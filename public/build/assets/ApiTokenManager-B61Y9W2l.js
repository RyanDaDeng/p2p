import{d as L,e as U,v as W,f as i,o as a,c as I,w as o,a as t,r as y,g as h,h as E,u as w,b as l,i as x,j as p,k as c,n as $,F as C,l as A,t as _}from"./app-DEGiTfEN.js";import{_ as H}from"./ActionMessage-DCq9Xr0-.js";import{_ as Y}from"./ActionSection-mCmJ3O2q.js";import{_ as j}from"./Modal-_Rg9P3fF.js";import{_ as q}from"./FormSection-D7Y0ZFJN.js";import{_ as G}from"./InputError-zBeJQBsm.js";import{_ as S}from"./InputLabel-YRAv73zX.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K=["value"],T={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(s,{emit:d}){const r=d,m=s,u=L({get(){return m.checked},set(g){r("update:checked",g)}});return(g,f)=>U((a(),i("input",{"onUpdate:modelValue":f[0]||(f[0]=k=>u.value=k),type:"checkbox",value:s.value,class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800"},null,8,K)),[[W,u.value]])}},O={class:"bg-white dark:bg-slate-900 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Q={class:"sm:flex sm:items-start"},R={class:"mt-3 text-center sm:mt-0 sm:ms-4 sm:text-start"},X={class:"text-lg font-semibold text-gray-900 dark:text-slate-100"},Z={class:"mt-4 text-sm text-gray-600 dark:text-slate-400"},ee={class:"flex flex-row justify-end px-6 py-4 bg-gray-50 dark:bg-slate-900/50 border-t border-gray-200 dark:border-slate-800 text-end"},te={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:d}){const r=d,m=()=>{r("close")};return(u,g)=>(a(),I(j,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:m},{default:o(()=>[t("div",O,[t("div",Q,[g[0]||(g[0]=t("div",{class:"mx-auto shrink-0 flex items-center justify-center size-12 rounded-full bg-red-100 dark:bg-red-900/30 sm:mx-0 sm:size-10"},[t("svg",{class:"size-6 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])],-1)),t("div",R,[t("h3",X,[y(u.$slots,"title")]),t("div",Z,[y(u.$slots,"content")])])])]),t("div",ee,[y(u.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},se=["type"],oe={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(s){return(d,r)=>(a(),i("button",{type:s.type,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},[y(d.$slots,"default")],8,se))}},re={class:"px-6 py-4"},ne={class:"text-lg font-semibold text-gray-900 dark:text-slate-100"},ae={class:"mt-4 text-sm text-gray-600 dark:text-slate-400"},le={class:"flex flex-row justify-end px-6 py-4 bg-gray-50 dark:bg-slate-900/50 border-t border-gray-200 dark:border-slate-800 text-end"},B={__name:"DialogModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:d}){const r=d,m=()=>{r("close")};return(u,g)=>(a(),I(j,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:m},{default:o(()=>[t("div",re,[t("div",ne,[y(u.$slots,"title")]),t("div",ae,[y(u.$slots,"content")])]),t("div",le,[y(u.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},ie=["type"],V={__name:"PrimaryButton",props:{type:{type:String,default:"submit"}},setup(s){return(d,r)=>(a(),i("button",{type:s.type,class:"inline-flex items-center px-4 py-2 bg-gray-800 dark:bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-800 uppercase tracking-widest hover:bg-gray-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 transition ease-in-out duration-150"},[y(d.$slots,"default")],8,ie))}},de=["type"],P={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(s){return(d,r)=>(a(),i("button",{type:s.type,class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-25 transition ease-in-out duration-150"},[y(d.$slots,"default")],8,de))}},ue={},ce={class:"hidden sm:block"};function me(s,d){return a(),i("div",ce,[...d[0]||(d[0]=[t("div",{class:"py-8"},[t("div",{class:"border-t border-gray-200 dark:border-gray-700"})],-1)])])}const pe=J(ue,[["render",me]]),ge=["value"],fe={__name:"TextInput",props:{modelValue:String},emits:["update:modelValue"],setup(s,{expose:d}){const r=h(null);return E(()=>{r.value.hasAttribute("autofocus")&&r.value.focus()}),d({focus:()=>r.value.focus()}),(m,u)=>(a(),i("input",{ref_key:"input",ref:r,class:"text-base md:text-sm border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:s.modelValue,onInput:u[0]||(u[0]=g=>m.$emit("update:modelValue",g.target.value))},null,40,ge))}},ye={class:"col-span-6 sm:col-span-4"},ke={key:0,class:"col-span-6"},be={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},ve={class:"flex items-center"},xe={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},_e={key:0},he={class:"mt-10 sm:mt-0"},we={class:"space-y-6"},$e={class:"break-all dark:text-white"},Ce={class:"flex items-center ms-2"},Ae={key:0,class:"text-sm text-gray-400"},Pe=["onClick"],Se=["onClick"],Te={key:0,class:"mt-4 bg-gray-100 dark:bg-gray-900 px-4 py-2 rounded font-mono text-sm text-gray-500 break-all"},Be={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={class:"flex items-center"},Ie={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},We={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(s){const r=w({name:"",permissions:s.defaultPermissions}),m=w({permissions:[]}),u=w({}),g=h(!1),f=h(null),k=h(null),D=()=>{r.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{g.value=!0,r.reset()}})},F=b=>{m.permissions=b.abilities,f.value=b},M=()=>{m.put(route("api-tokens.update",f.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>f.value=null})},z=b=>{k.value=b},N=()=>{u.delete(route("api-tokens.destroy",k.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>k.value=null})};return(b,e)=>(a(),i("div",null,[l(q,{onSubmitted:D},{title:o(()=>[...e[9]||(e[9]=[c(" Create API Token ",-1)])]),description:o(()=>[...e[10]||(e[10]=[c(" API tokens allow third-party services to authenticate with our application on your behalf. ",-1)])]),form:o(()=>[t("div",ye,[l(S,{for:"name",value:"Name"}),l(fe,{id:"name",modelValue:p(r).name,"onUpdate:modelValue":e[0]||(e[0]=n=>p(r).name=n),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),l(G,{message:p(r).errors.name,class:"mt-2"},null,8,["message"])]),s.availablePermissions.length>0?(a(),i("div",ke,[l(S,{for:"permissions",value:"Permissions"}),t("div",be,[(a(!0),i(C,null,A(s.availablePermissions,n=>(a(),i("div",{key:n},[t("label",ve,[l(T,{checked:p(r).permissions,"onUpdate:checked":e[1]||(e[1]=v=>p(r).permissions=v),value:n},null,8,["checked","value"]),t("span",xe,_(n),1)])]))),128))])])):x("",!0)]),actions:o(()=>[l(H,{on:p(r).recentlySuccessful,class:"me-3"},{default:o(()=>[...e[11]||(e[11]=[c(" Created. ",-1)])]),_:1},8,["on"]),l(V,{class:$({"opacity-25":p(r).processing}),disabled:p(r).processing},{default:o(()=>[...e[12]||(e[12]=[c(" Create ",-1)])]),_:1},8,["class","disabled"])]),_:1}),s.tokens.length>0?(a(),i("div",_e,[l(pe),t("div",he,[l(Y,null,{title:o(()=>[...e[13]||(e[13]=[c(" Manage API Tokens ",-1)])]),description:o(()=>[...e[14]||(e[14]=[c(" You may delete any of your existing tokens if they are no longer needed. ",-1)])]),content:o(()=>[t("div",we,[(a(!0),i(C,null,A(s.tokens,n=>(a(),i("div",{key:n.id,class:"flex items-center justify-between"},[t("div",$e,_(n.name),1),t("div",Ce,[n.last_used_ago?(a(),i("div",Ae," Last used "+_(n.last_used_ago),1)):x("",!0),s.availablePermissions.length>0?(a(),i("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:v=>F(n)}," Permissions ",8,Pe)):x("",!0),t("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:v=>z(n)}," Delete ",8,Se)])]))),128))])]),_:1})])])):x("",!0),l(B,{show:g.value,onClose:e[3]||(e[3]=n=>g.value=!1)},{title:o(()=>[...e[15]||(e[15]=[c(" API Token ",-1)])]),content:o(()=>[e[16]||(e[16]=t("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),b.$page.props.jetstream.flash.token?(a(),i("div",Te,_(b.$page.props.jetstream.flash.token),1)):x("",!0)]),footer:o(()=>[l(P,{onClick:e[2]||(e[2]=n=>g.value=!1)},{default:o(()=>[...e[17]||(e[17]=[c(" Close ",-1)])]),_:1})]),_:1},8,["show"]),l(B,{show:f.value!=null,onClose:e[6]||(e[6]=n=>f.value=null)},{title:o(()=>[...e[18]||(e[18]=[c(" API Token Permissions ",-1)])]),content:o(()=>[t("div",Be,[(a(!0),i(C,null,A(s.availablePermissions,n=>(a(),i("div",{key:n},[t("label",Ve,[l(T,{checked:p(m).permissions,"onUpdate:checked":e[4]||(e[4]=v=>p(m).permissions=v),value:n},null,8,["checked","value"]),t("span",Ie,_(n),1)])]))),128))])]),footer:o(()=>[l(P,{onClick:e[5]||(e[5]=n=>f.value=null)},{default:o(()=>[...e[19]||(e[19]=[c(" Cancel ",-1)])]),_:1}),l(V,{class:$(["ms-3",{"opacity-25":p(m).processing}]),disabled:p(m).processing,onClick:M},{default:o(()=>[...e[20]||(e[20]=[c(" Save ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["show"]),l(te,{show:k.value!=null,onClose:e[8]||(e[8]=n=>k.value=null)},{title:o(()=>[...e[21]||(e[21]=[c(" Delete API Token ",-1)])]),content:o(()=>[...e[22]||(e[22]=[c(" Are you sure you would like to delete this API token? ",-1)])]),footer:o(()=>[l(P,{onClick:e[7]||(e[7]=n=>k.value=null)},{default:o(()=>[...e[23]||(e[23]=[c(" Cancel ",-1)])]),_:1}),l(oe,{class:$(["ms-3",{"opacity-25":p(u).processing}]),disabled:p(u).processing,onClick:N},{default:o(()=>[...e[24]||(e[24]=[c(" Delete ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{We as default};
