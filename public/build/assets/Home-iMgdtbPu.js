import{c as w,o as l,b as u,w as m,f as i,i as g,q as ke,a as e,T as ce,t as s,H as be,m as P,g as x,B as _e,d as W,I as X,h as Ce,k as v,j as d,J as q,e as Me,v as Le,F as ue,l as pe,y as G,n as K,E as Be,K as Ue}from"./app-DGCaAi__.js";import{a as Ve,P as De}from"./P2PAppLayout-4r32C_YD.js";import{_ as L}from"./P2PButton-BDYX95ay.js";import{P as S}from"./P2PSelect-D90d42d5.js";import{_ as ze}from"./P2PPagination-Sr4xUiqv.js";import{_ as me}from"./P2PPaymentMethodPicker-CfA7Rkod.js";import{_ as Te}from"./P2PDialog-DzQCIqpA.js";import{u as Se}from"./useConfig-LF_HoLwL.js";import{g as C,a as F}from"./crypto-CgLVI7tr.js";import{_ as Fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */import"./UsdcIcon-CCjad3HK.js";const Pe={key:0,class:"relative w-full max-w-md bg-white dark:bg-slate-900 rounded-2xl shadow-2xl overflow-hidden"},Ee={class:"p-8 text-center"},$e={class:"text-gray-600 dark:text-slate-400 mb-8"},je={class:"mt-6 flex items-center justify-center gap-2"},Ae={__name:"P2PLoginPrompt",props:{modelValue:{type:Boolean,default:!1},message:{type:String,default:null},returnUrl:{type:String,default:null}},emits:["update:modelValue"],setup(f,{emit:M}){const k=f,E=M,y=()=>{E("update:modelValue",!1)},U=()=>{y(),k.returnUrl?P.visit(`/login?return=${encodeURIComponent(k.returnUrl)}`):P.visit("/login")},$=()=>{y(),k.returnUrl?P.visit(`/register?return=${encodeURIComponent(k.returnUrl)}`):P.visit("/register")};return(b,p)=>(l(),w(be,{to:"body"},[u(ce,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:m(()=>[f.modelValue?(l(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:ke(y,["self"])},[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:y}),u(ce,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:m(()=>[f.modelValue?(l(),i("div",Pe,[e("button",{onClick:y,class:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors cursor-pointer"},[...p[0]||(p[0]=[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),e("div",Ee,[p[4]||(p[4]=e("div",{class:"mx-auto w-20 h-20 bg-gradient-to-br from-emerald-100 to-emerald-200 dark:from-emerald-900/30 dark:to-emerald-800/30 rounded-full flex items-center justify-center mb-6"},[e("svg",{class:"w-10 h-10 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),p[5]||(p[5]=e("h3",{class:"text-2xl font-bold text-gray-900 dark:text-slate-100 mb-3"}," 登录后继续 ",-1)),e("p",$e,s(f.message||"请先登录您的账户以继续此操作"),1),e("div",{class:"space-y-3"},[e("button",{onClick:U,class:"w-full py-3 px-6 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-700 hover:to-emerald-600 text-white font-medium rounded-xl transition-all duration-200 transform hover:scale-[1.02] shadow-lg hover:shadow-xl cursor-pointer"},[...p[1]||(p[1]=[e("div",{class:"flex items-center justify-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})]),e("span",null,"立即登录")],-1)])]),e("button",{onClick:$,class:"w-full py-3 px-6 bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-300 font-medium rounded-xl border-2 border-gray-200 dark:border-slate-700 hover:border-emerald-500 dark:hover:border-emerald-500 transition-all duration-200 cursor-pointer"},[...p[2]||(p[2]=[e("div",{class:"flex items-center justify-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})]),e("span",null,"立即注册")],-1)])])]),e("div",je,[p[3]||(p[3]=e("img",{src:"/logo.png",alt:"Logo",class:"h-5 w-auto"},null,-1)),u(Ve)])])])):g("",!0)]),_:1})])):g("",!0)]),_:1})]))}};function He(){const f=x(!1),M=x(""),k=x(""),E=_e(),y=()=>!!E.props.auth?.user,U=(b=null,p=null)=>y()?(b&&typeof b=="function"&&b(),!0):(M.value=p||"请先登录您的账户以继续此操作",k.value=window.location.pathname+window.location.search,f.value=!0,!1);return{isAuthenticated:y,requireAuth:U,navigateWithAuth:(b,p=null)=>{U(null,p)&&P.visit(b)},showLoginPrompt:f,loginPromptMessage:M,returnUrl:k}}const B={cn:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#DE2910"/>
        <g fill="#FFDE00">
            <polygon points="4,3 4.6,4.8 6.5,4.8 5,6 5.5,7.8 4,6.6 2.5,7.8 3,6 1.5,4.8 3.4,4.8"/>
            <polygon points="8,1 8.2,1.6 8.8,1.6 8.3,2 8.5,2.6 8,2.2 7.5,2.6 7.7,2 7.2,1.6 7.8,1.6" transform="scale(0.7)"/>
            <polygon points="10,3 10.2,3.6 10.8,3.6 10.3,4 10.5,4.6 10,4.2 9.5,4.6 9.7,4 9.2,3.6 9.8,3.6" transform="scale(0.7)"/>
            <polygon points="10,6 10.2,6.6 10.8,6.6 10.3,7 10.5,7.6 10,7.2 9.5,7.6 9.7,7 9.2,6.6 9.8,6.6" transform="scale(0.7)"/>
            <polygon points="8,8 8.2,8.6 8.8,8.6 8.3,9 8.5,9.6 8,9.2 7.5,9.6 7.7,9 7.2,8.6 7.8,8.6" transform="scale(0.7)"/>
        </g>
    </svg>`,us:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#B22234"/>
        <g fill="white">
            <rect y="1.23" width="24" height="1.23"/>
            <rect y="3.69" width="24" height="1.23"/>
            <rect y="6.15" width="24" height="1.23"/>
            <rect y="8.62" width="24" height="1.23"/>
            <rect y="11.08" width="24" height="1.23"/>
            <rect y="13.54" width="24" height="1.23"/>
        </g>
        <rect width="9.6" height="8.62" fill="#3C3B6E"/>
    </svg>`,uk:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#012169"/>
        <path d="M0,0 L24,16 M24,0 L0,16" stroke="white" stroke-width="3"/>
        <path d="M0,0 L24,16 M24,0 L0,16" stroke="#C8102E" stroke-width="2"/>
        <path d="M12,0 v16 M0,8 h24" stroke="white" stroke-width="5"/>
        <path d="M12,0 v16 M0,8 h24" stroke="#C8102E" stroke-width="3"/>
    </svg>`,sg:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="8" fill="#EF3340"/>
        <rect y="8" width="24" height="8" fill="white"/>
        <g fill="white">
            <circle cx="6" cy="4" r="2.5" fill="white"/>
            <circle cx="7.5" cy="4" r="2.5" fill="#EF3340"/>
            <g transform="translate(5,3)">
                <polygon points="2,0 2.3,0.9 3.2,0.9 2.5,1.4 2.8,2.3 2,1.8 1.2,2.3 1.5,1.4 0.8,0.9 1.7,0.9" fill="white" transform="scale(0.3)"/>
                <polygon points="6,0 6.3,0.9 7.2,0.9 6.5,1.4 6.8,2.3 6,1.8 5.2,2.3 5.5,1.4 4.8,0.9 5.7,0.9" fill="white" transform="scale(0.3)"/>
                <polygon points="4,2 4.3,2.9 5.2,2.9 4.5,3.4 4.8,4.3 4,3.8 3.2,4.3 3.5,3.4 2.8,2.9 3.7,2.9" fill="white" transform="scale(0.3)"/>
                <polygon points="1,3 1.3,3.9 2.2,3.9 1.5,4.4 1.8,5.3 1,4.8 0.2,5.3 0.5,4.4 -0.2,3.9 0.7,3.9" fill="white" transform="scale(0.3)"/>
                <polygon points="7,3 7.3,3.9 8.2,3.9 7.5,4.4 7.8,5.3 7,4.8 6.2,5.3 6.5,4.4 5.8,3.9 6.7,3.9" fill="white" transform="scale(0.3)"/>
            </g>
        </g>
    </svg>`,hk:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#DE2910"/>
        <g fill="white" transform="translate(12,8)">
            <path d="M0,-4 C1,-3 2,-2 2,0 C2,2 1,3 0,4 C-1,3 -2,2 -2,0 C-2,-2 -1,-3 0,-4" fill="white"/>
            <g transform="rotate(0)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
            <g transform="rotate(72)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
            <g transform="rotate(144)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
            <g transform="rotate(216)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
            <g transform="rotate(288)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
        </g>
    </svg>`,jp:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="white"/>
        <circle cx="12" cy="8" r="4.8" fill="#BC002D"/>
    </svg>`,kr:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="white"/>
        <g transform="translate(12,8)">
            <circle cx="0" cy="0" r="4" fill="#C60C30"/>
            <path d="M-2,0 A2,2 0 0,1 2,0 A2,2 0 0,0 -2,0" fill="#003478"/>
            <rect x="-5" y="-5" width="2" height="1" fill="black" transform="rotate(30)"/>
            <rect x="-5" y="4" width="2" height="1" fill="black" transform="rotate(30)"/>
            <rect x="3" y="-5" width="2" height="1" fill="black" transform="rotate(30)"/>
            <rect x="3" y="4" width="2" height="1" fill="black" transform="rotate(30)"/>
        </g>
    </svg>`,au:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#012169"/>
        <path d="M0,0 L12,8 M12,0 L0,8" stroke="white" stroke-width="1.5"/>
        <path d="M0,0 L12,8 M12,0 L0,8" stroke="#E4002B" stroke-width="1"/>
        <path d="M6,0 v8 M0,4 h12" stroke="white" stroke-width="2.5"/>
        <path d="M6,0 v8 M0,4 h12" stroke="#E4002B" stroke-width="1.5"/>
        <g fill="white">
            <polygon points="12,10 12.3,10.9 13.2,10.9 12.5,11.4 12.8,12.3 12,11.8 11.2,12.3 11.5,11.4 10.8,10.9 11.7,10.9"/>
            <polygon points="18,12 18.15,12.45 18.6,12.45 18.25,12.7 18.4,13.15 18,12.9 17.6,13.15 17.75,12.7 17.4,12.45 17.85,12.45" transform="scale(0.7)"/>
            <polygon points="6,12 6.15,12.45 6.6,12.45 6.25,12.7 6.4,13.15 6,12.9 5.6,13.15 5.75,12.7 5.4,12.45 5.85,12.45" transform="scale(0.7)"/>
            <polygon points="21,8 21.15,8.45 21.6,8.45 21.25,8.7 21.4,9.15 21,8.9 20.6,9.15 20.75,8.7 20.4,8.45 20.85,8.45" transform="scale(0.7)"/>
            <polygon points="18,5 18.15,5.45 18.6,5.45 18.25,5.7 18.4,6.15 18,5.9 17.6,6.15 17.75,5.7 17.4,5.45 17.85,5.45" transform="scale(0.5)"/>
        </g>
    </svg>`,ca:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="6" height="16" fill="#FF0000"/>
        <rect x="6" width="12" height="16" fill="white"/>
        <rect x="18" width="6" height="16" fill="#FF0000"/>
        <path d="M12,4 L11,8 L9,7 L10,9 L8,9 L10,10 L9,12 L12,10 L15,12 L14,10 L16,9 L14,9 L15,7 L13,8 Z" fill="#FF0000"/>
    </svg>`,de:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="5.33" fill="black"/>
        <rect y="5.33" width="24" height="5.33" fill="#DD0000"/>
        <rect y="10.67" width="24" height="5.33" fill="#FFCE00"/>
    </svg>`,fr:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="8" height="16" fill="#002395"/>
        <rect x="8" width="8" height="16" fill="white"/>
        <rect x="16" width="8" height="16" fill="#ED2939"/>
    </svg>`,in:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="5.33" fill="#FF9933"/>
        <rect y="5.33" width="24" height="5.33" fill="white"/>
        <rect y="10.67" width="24" height="5.33" fill="#138808"/>
        <circle cx="12" cy="8" r="2" fill="#000080"/>
        <circle cx="12" cy="8" r="1.8" fill="white"/>
        <g fill="#000080" transform="translate(12,8)">
            <circle cx="0" cy="0" r="0.4"/>
            <g id="spoke">
                <line x1="0" y1="0" x2="0" y2="-1.8" stroke="#000080" stroke-width="0.15"/>
            </g>
            <use href="#spoke" transform="rotate(15)"/>
            <use href="#spoke" transform="rotate(30)"/>
            <use href="#spoke" transform="rotate(45)"/>
            <use href="#spoke" transform="rotate(60)"/>
            <use href="#spoke" transform="rotate(75)"/>
            <use href="#spoke" transform="rotate(90)"/>
            <use href="#spoke" transform="rotate(105)"/>
            <use href="#spoke" transform="rotate(120)"/>
            <use href="#spoke" transform="rotate(135)"/>
            <use href="#spoke" transform="rotate(150)"/>
            <use href="#spoke" transform="rotate(165)"/>
            <use href="#spoke" transform="rotate(180)"/>
            <use href="#spoke" transform="rotate(195)"/>
            <use href="#spoke" transform="rotate(210)"/>
            <use href="#spoke" transform="rotate(225)"/>
            <use href="#spoke" transform="rotate(240)"/>
            <use href="#spoke" transform="rotate(255)"/>
            <use href="#spoke" transform="rotate(270)"/>
            <use href="#spoke" transform="rotate(285)"/>
            <use href="#spoke" transform="rotate(300)"/>
            <use href="#spoke" transform="rotate(315)"/>
            <use href="#spoke" transform="rotate(330)"/>
            <use href="#spoke" transform="rotate(345)"/>
        </g>
    </svg>`,ru:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="5.33" fill="white"/>
        <rect y="5.33" width="24" height="5.33" fill="#0039A6"/>
        <rect y="10.67" width="24" height="5.33" fill="#D52B1E"/>
    </svg>`,br:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#009739"/>
        <polygon points="12,2 22,8 12,14 2,8" fill="#FEDD00"/>
        <circle cx="12" cy="8" r="3" fill="#012169"/>
    </svg>`,mx:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="8" height="16" fill="#006341"/>
        <rect x="8" width="8" height="16" fill="white"/>
        <rect x="16" width="8" height="16" fill="#C8102E"/>
    </svg>`,ae:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="6" height="16" fill="#00732F"/>
        <rect x="6" width="18" height="5.33" fill="#009639"/>
        <rect x="6" y="5.33" width="18" height="5.33" fill="white"/>
        <rect x="6" y="10.67" width="18" height="5.33" fill="black"/>
    </svg>`,tw:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#FE0000"/>
        <rect width="12" height="8" fill="#000095"/>
        <circle cx="6" cy="4" r="2" fill="white"/>
        <g fill="#000095" transform="translate(6,4)">
            <polygon points="0,-1.8 0.5,-0.5 1.8,0 0.5,0.5 0,1.8 -0.5,0.5 -1.8,0 -0.5,-0.5" fill="white"/>
        </g>
    </svg>`,th:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="2.67" fill="#ED1C24"/>
        <rect y="2.67" width="24" height="2.67" fill="white"/>
        <rect y="5.33" width="24" height="5.33" fill="#241D4F"/>
        <rect y="10.67" width="24" height="2.67" fill="white"/>
        <rect y="13.33" width="24" height="2.67" fill="#ED1C24"/>
    </svg>`,vn:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#DA251D"/>
        <polygon points="12,4 13.2,7.6 16.8,7.6 13.8,9.8 15,13.4 12,11.2 9,13.4 10.2,9.8 7.2,7.6 10.8,7.6" fill="#FFFF00"/>
    </svg>`,ph:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="8" fill="#0038A8"/>
        <rect y="8" width="24" height="8" fill="#CE1126"/>
        <polygon points="0,0 8,4 0,8" fill="white"/>
        <g fill="#FCD116">
            <circle cx="3" cy="4" r="1" fill="#FCD116"/>
            <polygon points="2,4 2.2,4.6 2.8,4.6 2.3,4.9 2.5,5.5 2,5.2 1.5,5.5 1.7,4.9 1.2,4.6 1.8,4.6" transform="scale(0.5) translate(1,5)"/>
            <polygon points="5,2 5.2,2.6 5.8,2.6 5.3,2.9 5.5,3.5 5,3.2 4.5,3.5 4.7,2.9 4.2,2.6 4.8,2.6" transform="scale(0.5) translate(1,1)"/>
            <polygon points="5,6 5.2,6.6 5.8,6.6 5.3,6.9 5.5,7.5 5,7.2 4.5,7.5 4.7,6.9 4.2,6.6 4.8,6.6" transform="scale(0.5) translate(1,3)"/>
        </g>
    </svg>`};Object.keys(B).forEach(f=>{B[f.toUpperCase()]=B[f]});B.GB=B.UK;B.gb=B.uk;function ge(f){if(!f||typeof f!="string")return"";const M=f.toLowerCase();return B[M]||""}const Re={class:"bg-gradient-to-b from-gray-100 to-gray-50 dark:from-gray-900 dark:to-gray-800 border-b border-gray-200 dark:border-gray-700"},Ie={class:"mx-auto max-w-7xl px-4 py-3 sm:px-6 lg:px-8"},Oe={class:"bg-white/70 dark:bg-gray-900/30 rounded-lg p-1 sm:p-1.5 mb-3"},Ne={key:0,class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-1 min-h-[1.5rem]"},Ze={key:1,class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-1 min-h-[1.5rem]"},We={class:"relative flex-1 sm:flex-initial overflow-hidden"},qe={class:"sm:hidden overflow-x-auto scrollbar-hide"},Ge={class:"flex items-center gap-3 min-w-max pr-2"},Ke={class:"flex items-center gap-1 whitespace-nowrap"},Je={class:"font-semibold text-xs text-gray-700 dark:text-gray-300"},Ye={class:"flex items-center gap-1 whitespace-nowrap"},Qe={class:"font-semibold text-xs text-gray-700 dark:text-gray-300"},Xe={class:"flex items-center gap-1 whitespace-nowrap"},et={class:"font-semibold text-xs text-gray-600 dark:text-gray-400"},tt={class:"hidden sm:flex items-center gap-3 md:gap-4"},rt={class:"flex items-center gap-1"},at={class:"text-xs text-gray-600 dark:text-gray-400"},st={class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},lt={class:"flex items-center gap-1"},ot={class:"text-xs text-gray-600 dark:text-gray-400"},nt={class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},it={class:"flex items-center gap-1"},dt={class:"text-xs text-gray-600 dark:text-gray-400"},ct={class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},ut={class:"hidden sm:flex flex-wrap items-center gap-1.5"},pt={class:"flex items-center bg-white/80 dark:bg-gray-900/50 rounded p-1 border border-gray-200 dark:border-gray-700"},mt={class:"truncate text-gray-900 dark:text-slate-100"},gt={class:"truncate text-gray-700 dark:text-slate-300"},ht={class:"min-w-[160px] max-w-[200px]"},ft={class:"sm:hidden space-y-2"},yt={class:"flex items-center justify-between gap-2"},xt={class:"flex items-center bg-white/80 dark:bg-gray-900/50 rounded p-1 border border-gray-200 dark:border-gray-700"},vt={class:"grid grid-cols-2 gap-2"},wt={class:"truncate text-gray-900 dark:text-slate-100"},kt={class:"truncate text-gray-700 dark:text-slate-300"},bt={class:"min-h-screen bg-gray-50 dark:bg-gray-950"},_t={class:"mx-auto max-w-7xl px-2 sm:px-4 py-4 lg:px-8"},Ct={class:"mb-4"},Mt={class:"inline-flex items-center gap-1.5 sm:gap-2 px-3 py-2.5 sm:py-2 bg-white dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 cursor-pointer transition-colors"},Lt={key:0,class:"text-center py-20"},Bt={key:1,class:"text-center py-12"},Ut={class:"text-red-600 dark:text-red-400"},Vt={key:2,class:"text-center py-12"},Dt={key:3,class:"hidden md:block space-y-2"},zt={class:"p-4"},Tt={class:"grid grid-cols-12 gap-4 items-center"},St={class:"col-span-3"},Ft={class:"flex items-center gap-2"},Pt=["src","alt"],Et={class:"text-white font-medium text-xs"},$t=["innerHTML"],jt={key:0,class:"w-3.5 h-3.5 text-green-600 dark:text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},At={class:"mt-1.5 space-y-1"},Ht={class:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400"},Rt={class:"flex items-center gap-1"},It={class:"font-medium"},Ot={class:"text-gray-400"},Nt={key:0,class:"flex items-center gap-0.5 text-gray-500 dark:text-gray-400"},Zt={class:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400"},Wt={class:"text-gray-400 dark:text-gray-500"},qt={class:"col-span-4"},Gt={class:"space-y-2"},Kt={class:"flex items-start gap-2 flex-wrap"},Jt={class:"px-2 py-0.5 bg-gray-100 dark:bg-gray-800 rounded text-xs font-medium text-gray-700 dark:text-gray-300"},Yt={key:0,class:"text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed"},Qt={class:"col-span-2 text-right flex flex-col justify-center"},Xt={class:"text-xs font-medium text-gray-500 dark:text-gray-500 mb-2"},er={key:0,class:"text-gray-600 dark:text-gray-400"},tr={key:1,class:"text-gray-600 dark:text-gray-400"},rr={class:"text-2xl text-gray-900 dark:text-gray-100 font-bold leading-tight tabular-nums mb-1"},ar={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},sr={class:"col-span-3"},lr={class:"text-right"},or={class:"text-sm mb-2 text-gray-700 dark:text-gray-300 font-medium"},nr={key:4,class:"md:hidden space-y-2"},ir={class:"p-4"},dr={class:"flex items-center gap-2.5 mb-3"},cr=["src","alt"],ur={class:"text-white font-medium text-xs"},pr={class:"flex-1"},mr=["innerHTML"],gr={key:1,class:"w-3.5 h-3.5 text-green-600 dark:text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},hr={class:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400 mt-1"},fr={class:"flex items-center gap-0.5"},yr={key:0,class:"text-emerald-600 dark:text-emerald-500 text-xs"},xr={key:1,class:"text-gray-500 dark:text-gray-400 text-xs"},vr={class:"flex items-center gap-1"},wr={class:"font-medium"},kr={class:"text-gray-400"},br={class:"flex items-center gap-0.5 text-gray-500 dark:text-gray-400"},_r={key:0,class:"flex items-center gap-0.5 text-gray-500 dark:text-gray-400"},Cr={class:"mb-3"},Mr={class:"flex flex-wrap gap-1.5"},Lr={class:"inline-block px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-xs font-medium rounded"},Br={key:0,class:"text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed mt-2"},Ur={class:"flex items-end justify-between gap-4"},Vr={class:"flex-1"},Dr={class:"text-xs text-gray-500 dark:text-gray-500 mb-1"},zr={key:0,class:"text-gray-600 dark:text-gray-400"},Tr={key:1,class:"text-gray-600 dark:text-gray-400"},Sr={class:"text-xl text-gray-900 dark:text-gray-100 font-bold leading-tight tabular-nums mb-1"},Fr={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},Pr={class:"text-right"},Er={class:"text-sm mb-2 text-gray-700 dark:text-gray-300 font-medium"},$r={class:"mt-6 border-t border-gray-200 dark:border-slate-800 pt-6"},jr={__name:"Home",props:{},setup(f){const{fetchConfig:M,getCryptocurrencyOptions:k,getFiatCurrencyOptions:E,getCryptocurrencyByKey:y,getPaymentMethodDetails:U,getFiatCurrencyByCode:$,paymentMethods:b}=Se(),p=localStorage.getItem("selectedFiatCurrency"),h=x(!p||p==="null"||p==="undefined"?null:p),ee=W(()=>E()),_=x({crypto_prices_usd:{},exchange_rates:{},loading:!1}),n=x({tradeType:"buy",cryptocurrency:null,paymentMethod:null,sortBy:"recent",onlyVerified:!1}),te=x([]),j=x(!1),V=x(null),O=x(!1),J=x(null),re=x("buy"),{requireAuth:he,showLoginPrompt:Y,loginPromptMessage:fe,returnUrl:ye}=He(),xe=async()=>{_.value.loading=!0;try{const a=await Ue.get("/web/api/market/prices");a.data&&(_.value={...a.data,loading:!1})}catch(a){console.error("Failed to fetch crypto prices:",a),_.value.loading=!1}},N=async()=>{j.value=!0,V.value=null;try{const a=new URLSearchParams;a.append("trade_type",n.value.tradeType),h.value&&h.value!=="null"&&a.append("fiat_currency",h.value),n.value.cryptocurrency&&a.append("currency_key",n.value.cryptocurrency),n.value.paymentMethod&&a.append("payment_method",n.value.paymentMethod);const r={rating:"rating",trades:"trades",recent:"created_at"};a.append("sort_by",r[n.value.sortBy]||"rating"),a.append("sort_order","desc"),a.append("per_page","50");const c=await(await fetch(`/web/api/ads?${a}`)).json();c.success?(console.log("Raw ad data:",c.data.ads[0]),te.value=c.data.ads.map(o=>({id:o.id,type:o.trade_type,cryptocurrency:o.currency_key,fiat_currency:o.fiat_currency,price:o.price,price_model:o.price_model,margin:o.margin,minAmount:o.min_limit,maxAmount:o.max_limit,limits:{min:o.min_limit||0,max:o.max_limit||1e4},paymentMethod:o.payment_method,paymentWindow:o.payment_time_limit||15,notes:o.notes,country:o.country,country_name:o.country_name,seller:{id:o.user?.id||0,name:o.user?.name||"Unknown",avatar:o.user?.profile_photo_url||null,profile_photo_url:o.user?.profile_photo_url||null,rating:o.user?.avg_rating||5,totalReviews:o.user?.total_reviews||0,trades:o.user?.trades_count||0,isVerified:o.user?.is_verified||!1,lastSeen:o.user?.last_seen||null,responseTime:o.user?.response_time||null,completionRate:98.5}}))):V.value=c.message||"获取广告列表失败"}catch(a){V.value="网络错误，请稍后重试",console.error("Failed to fetch ads:",a)}finally{j.value=!1}},ve=a=>{if(!a)return"";const r=a.toLowerCase();return r.includes("usdt")||r.includes("usdc")?"USDT":r==="btc"||r==="bitcoin"?"BTC":r==="eth"||r==="ethereum"?"ETH":r.toUpperCase()},D=a=>{if(!a)return"";const r=$(a);if(r?.symbol)return r.symbol;const t=_.value.currencies?.[a];return t?.symbol?t.symbol:""},z=(a,r)=>{const t=_.value.crypto_prices_usd?.[a],c=_.value.exchange_rates?.[r]||1;if(!t)return"-";const o=t*c,I=D(r),de=$(r)?.decimal_places??2;return de===0?I+Math.round(o).toLocaleString():I+o.toFixed(de)},ae=(a,r)=>{if(!a||!r)return 0;const t=ve(a),c=_.value.crypto_prices_usd?.[t],o=_.value.exchange_rates?.[r]||1;return c?c*o:0},se=a=>{if(!a)return 0;if(a.price_model==="dynamic"){const r=ae(a.cryptocurrency,a.fiat_currency);if(!r||r===0)return a.price||0;const t=a.margin||0;return r*(1+t/100)}else return a.price||0},T=a=>{const r=ae(a.cryptocurrency,a.fiat_currency);return!r||r===0?null:a.price_model==="dynamic"?a.margin||0:(a.price-r)/r*100};X(n,()=>{A.value=1,N()},{deep:!0}),X(h,a=>{a?localStorage.setItem("selectedFiatCurrency",a):localStorage.removeItem("selectedFiatCurrency"),N()});const Z=(a,r)=>{const t=()=>{J.value=a,re.value=r,O.value=!0},c=r==="buy"?`请先登录以购买 ${y(a.cryptocurrency)?.label||F(a.cryptocurrency)}`:`请先登录以出售 ${y(a.cryptocurrency)?.label||F(a.cryptocurrency)}`;he(t,c)},we=()=>{O.value=!1,J.value&&P.visit(`/trade/create-order?ad_id=${J.value.id}&type=${re.value}`)};Ce(async()=>{try{await M()}catch(t){console.error("Failed to load config:",t)}new URLSearchParams(window.location.search).get("type")==="sell"&&(n.value.tradeType="sell"),N(),xe()});const A=x(1),Q=x(10),le=W(()=>k().map(r=>({...r,iconComponent:C(r.value)}))),H=a=>{if(!a)return!1;const r=new Date(a);return Math.floor((new Date-r)/6e4)<5},oe=a=>{if(!a)return"未知";const r=new Date(a),c=Math.floor((new Date-r)/6e4);if(c<1)return"刚刚";if(c<5)return"在线";if(c<60)return`${c}分钟前`;const o=Math.floor(c/60);if(o<24)return`${o}小时前`;const I=Math.floor(o/24);return I<7?`${I}天前`:"7天前"},ne=[{value:"rating",label:"按评分",icon:"⭐"},{value:"trades",label:"按成交量",icon:"📊"},{value:"response",label:"按响应时间",icon:"⚡"},{value:"recent",label:"最新发布",icon:"🕐"}],R=W(()=>{let a=te.value;return n.value.onlyVerified&&(a=a.filter(r=>r.seller.isVerified)),a}),ie=W(()=>{const a=(A.value-1)*Q.value,r=a+Q.value;return R.value.slice(a,r)});return X(n,()=>{A.value=1},{deep:!0}),(a,r)=>(l(),w(De,null,{default:m(()=>[e("div",Re,[e("div",Ie,[e("div",Oe,[_.value.loading?(l(),i("div",Ne,[...r[16]||(r[16]=[e("div",{class:"flex flex-wrap items-center gap-2 sm:gap-3"},[e("div",{class:"flex items-center gap-1.5"},[e("div",{class:"p-1 bg-emerald-500/10 rounded"},[e("svg",{class:"w-3.5 sm:w-4 h-3.5 sm:h-4 text-emerald-600 dark:text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])]),e("span",{class:"text-xs font-semibold text-gray-800 dark:text-gray-200"},"安全托管")]),e("div",{class:"hidden sm:block h-4 w-px bg-gray-300 dark:bg-gray-700"}),e("div",{class:"flex items-center gap-1.5"},[e("svg",{class:"w-3.5 h-3.5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("span",{class:"text-xs font-medium text-gray-700 dark:text-gray-300"},"实名认证")])],-1),e("div",{class:"relative flex-1 sm:flex-initial overflow-hidden"},[e("div",{class:"sm:hidden overflow-x-auto scrollbar-hide"},[e("div",{class:"flex items-center gap-3 min-w-max pr-2"},[e("div",{class:"flex items-center gap-1 whitespace-nowrap"},[e("div",{class:"w-6 h-3.5 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e("div",{class:"w-8 h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]),e("div",{class:"flex items-center gap-1 whitespace-nowrap"},[e("div",{class:"w-5 h-3.5 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e("div",{class:"w-10 h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]),e("div",{class:"flex items-center gap-1 whitespace-nowrap"},[e("div",{class:"w-5 h-3.5 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e("div",{class:"w-9 h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})])])]),e("div",{class:"hidden sm:flex items-center gap-3 md:gap-4"},[e("div",{class:"flex items-center gap-1"},[e("div",{class:"w-12 h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e("div",{class:"w-10 h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]),e("div",{class:"flex items-center gap-1"},[e("div",{class:"w-10 h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e("div",{class:"w-12 h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]),e("div",{class:"flex items-center gap-1"},[e("div",{class:"w-10 h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e("div",{class:"w-11 h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})])])],-1)])])):(l(),i("div",Ze,[r[20]||(r[20]=e("div",{class:"flex flex-wrap items-center gap-2 sm:gap-3"},[e("div",{class:"flex items-center gap-1.5"},[e("div",{class:"p-1 bg-emerald-500/10 rounded"},[e("svg",{class:"w-3.5 sm:w-4 h-3.5 sm:h-4 text-emerald-600 dark:text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])]),e("span",{class:"text-xs font-semibold text-gray-800 dark:text-gray-200"},"安全托管")]),e("div",{class:"hidden sm:block h-4 w-px bg-gray-300 dark:bg-gray-700"}),e("div",{class:"flex items-center gap-1.5"},[e("svg",{class:"w-3.5 h-3.5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("span",{class:"text-xs font-medium text-gray-700 dark:text-gray-300"},"实名认证")])],-1)),e("div",We,[e("div",qe,[e("div",Ge,[e("div",Ke,[r[17]||(r[17]=e("span",{class:"text-[10px] text-gray-500 dark:text-gray-500"},"USDT",-1)),e("span",Je,s(z("USDT",h.value||"USD")),1)]),e("div",Ye,[r[18]||(r[18]=e("span",{class:"text-[10px] text-gray-500 dark:text-gray-500"},"BTC",-1)),e("span",Qe,s(z("BTC",h.value||"USD")),1)]),e("div",Xe,[r[19]||(r[19]=e("span",{class:"text-[10px] text-gray-500 dark:text-gray-500"},"ETH",-1)),e("span",et,s(z("ETH",h.value||"USD")),1)])])]),e("div",tt,[e("div",rt,[e("span",at,"USDT·"+s(h.value||"USD"),1),e("span",st,s(z("USDT",h.value||"USD")),1)]),e("div",lt,[e("span",ot,"BTC·"+s(h.value||"USD"),1),e("span",nt,s(z("BTC",h.value||"USD")),1)]),e("div",it,[e("span",dt,"ETH·"+s(h.value||"USD"),1),e("span",ct,s(z("ETH",h.value||"USD")),1)])])])]))]),e("div",ut,[e("div",pt,[r[23]||(r[23]=e("span",{class:"text-xs text-gray-600 dark:text-gray-400 px-2"},"我想要",-1)),u(L,{onClick:r[0]||(r[0]=t=>n.value.tradeType="buy"),variant:n.value.tradeType==="buy"?"primary":"ghost",size:"sm"},{default:m(()=>[...r[21]||(r[21]=[v(" 购买 ",-1)])]),_:1},8,["variant"]),u(L,{onClick:r[1]||(r[1]=t=>n.value.tradeType="sell"),variant:n.value.tradeType==="sell"?"blue":"ghost",size:"sm"},{default:m(()=>[...r[22]||(r[22]=[v(" 出售 ",-1)])]),_:1},8,["variant"])]),u(S,{modelValue:n.value.cryptocurrency,"onUpdate:modelValue":r[2]||(r[2]=t=>n.value.cryptocurrency=t),options:le.value,placeholder:"选择币种",size:"md",class:"w-40"},{selected:m(({option:t})=>[t&&d(C)(t.value)?(l(),w(q(d(C)(t.value)),{key:0,size:16,class:"mr-2 flex-shrink-0"})):g("",!0),e("span",mt,s(t?.label),1)]),option:m(({option:t})=>[d(C)(t.value)?(l(),w(q(d(C)(t.value)),{key:0,size:16,class:"mr-2 flex-shrink-0"})):g("",!0),e("span",gt,s(t.label),1)]),_:1},8,["modelValue","options"]),e("div",ht,[u(me,{modelValue:n.value.paymentMethod,"onUpdate:modelValue":r[3]||(r[3]=t=>n.value.paymentMethod=t),placeholder:"选择支付",categories:d(b)},null,8,["modelValue","categories"])]),u(S,{modelValue:h.value,"onUpdate:modelValue":r[4]||(r[4]=t=>h.value=t),options:ee.value,placeholder:"选择法币",size:"md",class:"w-32"},null,8,["modelValue","options"]),u(S,{modelValue:n.value.sortBy,"onUpdate:modelValue":r[5]||(r[5]=t=>n.value.sortBy=t),options:ne,placeholder:"排序方式","default-value":"recent",size:"md",class:"w-36"},null,8,["modelValue"])]),e("div",ft,[e("div",yt,[e("div",xt,[r[26]||(r[26]=e("span",{class:"text-xs text-gray-600 dark:text-gray-400 px-2"},"我想要",-1)),u(L,{onClick:r[6]||(r[6]=t=>n.value.tradeType="buy"),variant:n.value.tradeType==="buy"?"primary":"ghost",size:"sm"},{default:m(()=>[...r[24]||(r[24]=[v(" 购买 ",-1)])]),_:1},8,["variant"]),u(L,{onClick:r[7]||(r[7]=t=>n.value.tradeType="sell"),variant:n.value.tradeType==="sell"?"blue":"ghost",size:"sm"},{default:m(()=>[...r[25]||(r[25]=[v(" 出售 ",-1)])]),_:1},8,["variant"])])]),e("div",vt,[u(S,{modelValue:n.value.cryptocurrency,"onUpdate:modelValue":r[8]||(r[8]=t=>n.value.cryptocurrency=t),options:le.value,placeholder:"选择币种",size:"md",class:"w-full"},{selected:m(({option:t})=>[t&&d(C)(t.value)?(l(),w(q(d(C)(t.value)),{key:0,size:16,class:"mr-2 flex-shrink-0"})):g("",!0),e("span",wt,s(t?.label),1)]),option:m(({option:t})=>[d(C)(t.value)?(l(),w(q(d(C)(t.value)),{key:0,size:16,class:"mr-2 flex-shrink-0"})):g("",!0),e("span",kt,s(t.label),1)]),_:1},8,["modelValue","options"]),u(me,{modelValue:n.value.paymentMethod,"onUpdate:modelValue":r[9]||(r[9]=t=>n.value.paymentMethod=t),placeholder:"选择支付",categories:d(b)},null,8,["modelValue","categories"]),u(S,{modelValue:h.value,"onUpdate:modelValue":r[10]||(r[10]=t=>h.value=t),options:ee.value,placeholder:"选择法币",size:"md",class:"w-full"},null,8,["modelValue","options"]),u(S,{modelValue:n.value.sortBy,"onUpdate:modelValue":r[11]||(r[11]=t=>n.value.sortBy=t),options:ne,placeholder:"排序方式","default-value":"recent",size:"md",class:"w-full"},null,8,["modelValue"])])])])]),e("div",bt,[e("div",_t,[e("div",Ct,[e("label",Mt,[Me(e("input",{type:"checkbox","onUpdate:modelValue":r[12]||(r[12]=t=>n.value.onlyVerified=t),class:"w-4 h-4 sm:w-4 sm:h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 dark:focus:ring-amber-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer"},null,512),[[Le,n.value.onlyVerified]]),r[27]||(r[27]=e("svg",{class:"w-4 h-4 sm:w-4 sm:h-4 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),r[28]||(r[28]=e("span",{class:"text-xs sm:text-sm text-gray-700 dark:text-gray-200 whitespace-nowrap"},"认证商家",-1))])]),j.value?(l(),i("div",Lt,[...r[29]||(r[29]=[e("svg",{class:"animate-spin h-10 w-10 text-emerald-500 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"正在加载广告...",-1)])])):V.value?(l(),i("div",Bt,[r[30]||(r[30]=e("svg",{class:"mx-auto h-12 w-12 text-red-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",Ut,s(V.value),1),e("button",{onClick:N,class:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors cursor-pointer"}," 重新加载 ")])):R.value.length===0?(l(),i("div",Vt,[...r[31]||(r[31]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"暂无广告",-1),e("p",{class:"mt-1 text-gray-500 dark:text-gray-400"},"调整筛选条件或稍后再试",-1)])])):!j.value&&!V.value&&R.value.length>0?(l(),i("div",Dt,[(l(!0),i(ue,null,pe(ie.value,t=>(l(),i("div",{key:t.id,class:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded hover:border-gray-300 dark:hover:border-gray-700 transition-all"},[e("div",zt,[e("div",Tt,[e("div",St,[e("div",Ft,[u(d(G),{href:`/trader/profile/${t.seller.id||t.id}`,class:"relative flex-shrink-0 cursor-pointer hover:scale-105 transition-transform"},{default:m(()=>[t.seller.avatar||t.seller.profile_photo_url?(l(),i("img",{key:0,src:t.seller.avatar||t.seller.profile_photo_url,alt:t.seller.name,class:K(["h-8 w-8 rounded-full object-cover border",H(t.seller.lastSeen)?"border-emerald-500":"border-gray-200 dark:border-gray-700"])},null,10,Pt)):(l(),i("div",{key:1,class:K(["h-8 w-8 rounded-full bg-gradient-to-br from-gray-500 to-gray-600 dark:from-slate-500 dark:to-slate-600 flex items-center justify-center border",H(t.seller.lastSeen)?"border-emerald-500":"border-gray-200 dark:border-gray-700"])},[e("span",Et,s(t.seller.name?.[0]?.toUpperCase()||"U"),1)],2))]),_:2},1032,["href"]),u(d(G),{href:`/trader/profile/${t.seller.id||t.id}`,class:"flex items-center gap-1.5 text-sm font-medium text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-slate-300 transition-colors cursor-pointer"},{default:m(()=>[v(s(t.seller.name||"Unknown")+" ",1),t.country?(l(),i("span",{key:0,class:"inline-block w-4 h-3",innerHTML:d(ge)(t.country)},null,8,$t)):g("",!0)]),_:2},1032,["href"]),t.seller.isVerified?(l(),i("svg",jt,[...r[32]||(r[32]=[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):g("",!0)]),e("div",At,[e("div",Ht,[e("div",Rt,[r[33]||(r[33]=e("svg",{class:"w-3.5 h-3.5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",It,s(t.seller.rating),1),e("span",Ot,"("+s(t.seller.totalReviews)+")",1)]),t.seller.responseTime?(l(),i("div",Nt,[r[34]||(r[34]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,"<"+s(t.seller.responseTime)+"分钟",1)])):g("",!0)]),e("div",Zt,[e("span",null,s(t.seller.trades)+" 笔交易",1),e("span",Wt,s(oe(t.seller.lastSeen)),1)])])]),e("div",qt,[e("div",Gt,[e("div",Kt,[e("span",Jt,s(d(U)(t.paymentMethod)?.label||t.paymentMethod),1)]),t.notes?(l(),i("div",Yt,s(t.notes),1)):g("",!0)])]),e("div",Qt,[e("div",Xt,[t.price_model==="dynamic"?(l(),i("span",er," 动态单价 · "+s(t.fiat_currency||"USD"),1)):(l(),i("span",tr," 固定单价 · "+s(t.fiat_currency||"USD"),1))]),e("p",rr,s(D(t.fiat_currency))+s(se(t).toLocaleString()),1),T(t)!==null?(l(),i("div",ar,s(T(t)>0?"+":"")+s(Number(T(t)||0).toFixed(2))+"% 市场价 ",1)):g("",!0)]),e("div",sr,[e("div",lr,[e("div",or,s(D(t.fiat_currency))+s((t.limits?.min||0).toLocaleString())+" - "+s(D(t.fiat_currency))+s((t.limits?.max||1e4).toLocaleString()),1),n.value.tradeType==="buy"?(l(),w(L,{key:0,onClick:c=>Z(t,"buy"),variant:"primary",size:"md",class:"font-medium px-6"},{default:m(()=>[v(" 购买 "+s(d(y)(t.cryptocurrency)?.label||d(F)(t.cryptocurrency)),1)]),_:2},1032,["onClick"])):(l(),w(L,{key:1,onClick:c=>Z(t,"sell"),variant:"blue",size:"md",class:"font-medium px-6"},{default:m(()=>[v(" 出售 "+s(d(y)(t.cryptocurrency)?.label||d(F)(t.cryptocurrency)),1)]),_:2},1032,["onClick"]))])])])])]))),128))])):g("",!0),!j.value&&!V.value&&R.value.length>0?(l(),i("div",nr,[(l(!0),i(ue,null,pe(ie.value,t=>(l(),i("div",{key:t.id,class:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded hover:border-gray-300 dark:hover:border-gray-700 transition-all"},[e("div",ir,[e("div",dr,[u(d(G),{href:`/trader/profile/${t.seller.id||t.id}`,class:"relative flex-shrink-0 cursor-pointer hover:scale-105 transition-transform"},{default:m(()=>[t.seller.avatar||t.seller.profile_photo_url?(l(),i("img",{key:0,src:t.seller.avatar||t.seller.profile_photo_url,alt:t.seller.name,class:K(["h-8 w-8 rounded-full object-cover border",H(t.seller.lastSeen)?"border-emerald-500":"border-gray-200 dark:border-gray-700"])},null,10,cr)):(l(),i("div",{key:1,class:K(["h-8 w-8 rounded-full bg-gradient-to-br from-gray-500 to-gray-600 dark:from-slate-500 dark:to-slate-600 flex items-center justify-center border",H(t.seller.lastSeen)?"border-emerald-500":"border-gray-200 dark:border-gray-700"])},[e("span",ur,s(t.seller.name?.[0]?.toUpperCase()||"U"),1)],2))]),_:2},1032,["href"]),e("div",pr,[u(d(G),{href:`/trader/profile/${t.seller.id||t.id}`,class:"flex items-center gap-1.5 text-sm font-medium text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-slate-300 transition-colors cursor-pointer"},{default:m(()=>[v(s(t.seller.name||"Unknown")+" ",1),t.country?(l(),i("span",{key:0,class:"inline-block w-4 h-3",innerHTML:d(ge)(t.country)},null,8,mr)):g("",!0),t.seller.isVerified?(l(),i("svg",gr,[...r[35]||(r[35]=[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):g("",!0)]),_:2},1032,["href"]),e("div",hr,[e("div",fr,[H(t.seller.lastSeen)?(l(),i("span",yr,"在线")):(l(),i("span",xr,s(oe(t.seller.lastSeen)),1))]),e("div",vr,[r[36]||(r[36]=e("svg",{class:"w-3.5 h-3.5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",wr,s(t.seller.rating),1),e("span",kr,"("+s(t.seller.totalReviews)+")",1)]),e("div",br,[e("span",null,s(t.seller.trades||0)+"笔交易",1)]),t.seller.responseTime?(l(),i("div",_r,[e("span",null,s(t.seller.responseTime)+"分钟",1)])):g("",!0)])])]),e("div",Cr,[e("div",Mr,[e("span",Lr,s(d(U)(t.paymentMethod)?.label||t.paymentMethod),1)]),t.notes?(l(),i("div",Br,s(t.notes),1)):g("",!0)]),e("div",Ur,[e("div",Vr,[e("div",Dr,[t.price_model==="dynamic"?(l(),i("span",zr," 动态单价 · "+s(t.fiat_currency||"USD"),1)):(l(),i("span",Tr," 固定单价 · "+s(t.fiat_currency||"USD"),1))]),e("p",Sr,s(D(t.fiat_currency))+s(se(t).toLocaleString()),1),T(t)!==null?(l(),i("div",Fr,s(T(t)>0?"+":"")+s(Number(T(t)||0).toFixed(2))+"% 市场价 ",1)):g("",!0)]),e("div",Pr,[e("div",Er,s(D(t.fiat_currency))+s((t.limits?.min||0).toLocaleString())+" - "+s(D(t.fiat_currency))+s((t.limits?.max||1e4).toLocaleString()),1),n.value.tradeType==="buy"?(l(),w(L,{key:0,onClick:c=>Z(t,"buy"),variant:"primary",size:"md",class:"font-medium px-4"},{default:m(()=>[v(" 购买 "+s(d(y)(t.cryptocurrency)?.label||d(F)(t.cryptocurrency)),1)]),_:2},1032,["onClick"])):(l(),w(L,{key:1,onClick:c=>Z(t,"sell"),variant:"blue",size:"md",class:"font-medium px-4"},{default:m(()=>[v(" 出售 "+s(d(y)(t.cryptocurrency)?.label||d(F)(t.cryptocurrency)),1)]),_:2},1032,["onClick"]))])])])]))),128))])):g("",!0),e("div",$r,[u(ze,{"current-page":A.value,"onUpdate:currentPage":r[13]||(r[13]=t=>A.value=t),total:R.value.length,"per-page":Q.value},null,8,["current-page","total","per-page"])])])]),u(Te,{show:O.value,title:"交易安全提醒",subtitle:"请仔细阅读以下重要提示","icon-color":"amber","cancel-text":"取消","confirm-text":"确认了解",onClose:r[14]||(r[14]=t=>O.value=!1),onConfirm:we},{default:m(()=>[...r[37]||(r[37]=[e("div",{class:"space-y-4 text-sm"},[e("div",{class:"flex gap-2"},[e("svg",{class:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),e("div",null,[e("p",{class:"font-semibold text-gray-900 dark:text-gray-100 mb-1"}," 资金安全警告 "),e("p",{class:"text-gray-600 dark:text-gray-300"},[e("span",{class:"font-bold text-red-600 dark:text-red-400"},"切勿在资金到达托管前进行任何转账！"),v(" 请等待系统确认后再进行支付。 ")])])]),e("div",{class:"flex gap-2"},[e("svg",{class:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})]),e("div",null,[e("p",{class:"font-semibold text-gray-900 dark:text-gray-100 mb-1"}," 沟通凭证提醒 "),e("p",{class:"text-gray-600 dark:text-gray-300"}," 只有在本平台内的聊天记录才能作为交易凭证。站外沟通内容无法作为争议处理依据。 ")])]),e("div",{class:"flex gap-2"},[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("div",null,[e("p",{class:"font-semibold text-gray-900 dark:text-gray-100 mb-1"}," 交易条款确认 "),e("p",{class:"text-gray-600 dark:text-gray-300"}," 点击确认即表示您同意： "),e("ul",{class:"mt-1 space-y-1 text-gray-600 dark:text-gray-300"},[e("li",{class:"flex items-start gap-1"},[e("span",{class:"text-gray-400"},"•"),e("span",null,"遵守商家的交易条款")]),e("li",{class:"flex items-start gap-1"},[e("span",{class:"text-gray-400"},"•"),e("span",null,"在规定时间内完成交易")]),e("li",{class:"flex items-start gap-1"},[e("span",{class:"text-gray-400"},"•"),e("span",null,"使用实名账户进行支付")]),e("li",{class:"flex items-start gap-1"},[e("span",{class:"text-gray-400"},"•"),e("span",null,"诚信交易，不进行欺诈行为")])])])])],-1)])]),_:1},8,["show"]),u(Ae,{modelValue:d(Y),"onUpdate:modelValue":r[15]||(r[15]=t=>Be(Y)?Y.value=t:null),message:d(fe),"return-url":d(ye)},null,8,["modelValue","message","return-url"])]),_:1}))}},Qr=Fe(jr,[["__scopeId","data-v-2e6a5eab"]]);export{Qr as default};
