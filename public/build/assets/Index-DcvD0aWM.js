import{r as c,g as E,h as G,d as J,c as W,o as s,w as V,b as n,a as e,p as M,y as X,t as r,f as l,F as _,s as f,n as h,e as A,A as F,q as j,l as k,L as I,B as O,K as Y}from"./app-CDtx7mxq.js";import{P as Z}from"./P2PAppLayout-yrrA0B22.js";import{P as y}from"./P2PSelect-C9mtPp-M.js";import{_ as R}from"./P2PPagination-B_JBKNZ6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const ee={class:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800"},te={class:"mx-auto max-w-7xl px-4 py-3 sm:py-4 sm:px-6 lg:px-8"},ae={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-4 mb-3 sm:mb-4"},re={class:"flex items-center gap-2 sm:gap-3"},se={class:"text-center"},le={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100"},oe={class:"text-center"},de={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100"},ne={class:"text-center"},ie={class:"text-xl sm:text-2xl font-bold text-gray-600 dark:text-gray-400"},ge={class:"hidden sm:flex flex-wrap items-center gap-2"},ue={class:"flex items-center bg-gray-100 dark:bg-gray-800 rounded p-0.5"},ce=["onClick"],ye={class:"ml-auto"},xe={class:"relative"},pe={class:"sm:hidden space-y-2"},me={class:"overflow-x-auto"},ve={class:"flex items-center bg-gray-100 dark:bg-gray-800 rounded p-0.5 w-fit"},_e=["onClick"],fe={class:"grid grid-cols-2 gap-1.5"},he={class:"relative"},ke={class:"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8"},be={class:"hidden sm:block bg-white dark:bg-gray-900 rounded shadow-sm overflow-hidden"},we={key:0,class:"flex items-center justify-center p-8"},Ce={key:1,class:"text-center py-12"},Ve={key:2,class:"overflow-x-auto"},Me={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-800"},je={class:"divide-y divide-gray-200 dark:divide-gray-800"},Ue={class:"px-4 py-3"},$e={class:"flex items-center gap-2"},ze={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Se={class:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mt-1"},Be={class:"px-4 py-3"},Te={key:0},Pe={key:1,class:"flex items-center gap-2"},De=["href"],Le=["src","alt"],Ne={key:1,class:"h-8 w-8 rounded-full bg-gradient-to-br from-gray-500 to-gray-600 dark:from-gray-500 dark:to-gray-600 flex items-center justify-center hover:ring-2 hover:ring-gray-500 transition-all"},He={class:"text-white font-bold text-xs"},Ee=["href"],Ae={class:"px-4 py-3"},Fe={key:0},Ie={key:1,class:"flex items-center gap-2"},Oe=["href"],Re=["src","alt"],qe={key:1,class:"h-8 w-8 rounded-full bg-gradient-to-br from-gray-500 to-gray-600 dark:from-gray-500 dark:to-gray-600 flex items-center justify-center hover:ring-2 hover:ring-gray-500 transition-all"},Ke={class:"text-white font-bold text-xs"},Qe=["href"],Ge={class:"px-4 py-3"},Je={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},We={class:"text-xs text-gray-500 dark:text-gray-400"},Xe={class:"px-4 py-3"},Ye={class:"flex items-center gap-2"},Ze={class:"mt-1"},et={class:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-1.5"},tt={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},at={class:"px-4 py-3"},rt={class:"px-4 py-3 border-t border-gray-200 dark:border-gray-800"},st={class:"sm:hidden"},lt={key:0,class:"flex items-center justify-center p-8"},ot={key:1,class:"text-center py-12 bg-white dark:bg-gray-900 rounded"},dt={key:2,class:"space-y-3"},nt={class:"bg-gray-50 dark:bg-gray-800/50 px-3 py-2 border-b border-gray-200 dark:border-gray-800"},it={class:"flex items-center justify-between"},gt={class:"flex items-center gap-2"},ut={class:"text-xs font-bold text-gray-900 dark:text-gray-100"},ct={class:"flex items-center gap-1 mt-1"},yt={class:"text-xs text-gray-500 dark:text-gray-400"},xt={class:"p-3 space-y-3"},pt={class:"grid grid-cols-2 gap-3"},mt={class:"space-y-1"},vt={key:0},_t={key:1,class:"flex items-center gap-1.5"},ft=["href"],ht=["src","alt"],kt={key:1,class:"h-6 w-6 rounded-full bg-gradient-to-br from-gray-500 to-gray-600 dark:from-gray-500 dark:to-gray-600 flex items-center justify-center hover:ring-2 hover:ring-gray-500 transition-all"},bt={class:"text-white font-bold text-xs"},wt=["href"],Ct={class:"space-y-1"},Vt={key:0},Mt={key:1,class:"flex items-center gap-1.5"},jt=["href"],Ut=["src","alt"],$t={key:1,class:"h-6 w-6 rounded-full bg-gradient-to-br from-gray-500 to-gray-600 dark:from-gray-500 dark:to-gray-600 flex items-center justify-center hover:ring-2 hover:ring-gray-500 transition-all"},zt={class:"text-white font-bold text-xs"},St=["href"],Bt={class:"bg-gray-50 dark:bg-gray-800/50 rounded p-2.5"},Tt={class:"flex items-center justify-between"},Pt={class:"text-sm font-bold text-gray-900 dark:text-gray-100 mt-0.5"},Dt={class:"text-right"},Lt={class:"text-sm font-bold text-gray-900 dark:text-gray-100 mt-0.5"},Nt={class:"flex items-center justify-between mb-1.5"},Ht={class:"text-xs font-medium text-emerald-600 dark:text-emerald-400"},Et={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5"},At={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Ft={class:"mt-4"},Jt={__name:"Index",setup(It){const i=c([]),x=c(!1),g=c({current_page:1,last_page:1,per_page:20,total:0}),o=c({status:"all",trade_type:"all",cryptocurrency:"all",time_range:"7days"}),u=c(""),U=c(null),$=[{value:"all",label:"全部"},{value:"trading",label:"交易中",dotColor:"bg-blue-500"},{value:"completed",label:"已完成",dotColor:"bg-emerald-500"},{value:"cancelled",label:"已取消",dotColor:"bg-gray-500"},{value:"disputed",label:"争议中",dotColor:"bg-red-500"}],z=[{value:"all",label:"全部类型"},{value:"buy",label:"我买入"},{value:"sell",label:"我卖出"}],S=[{value:"all",label:"全部币种"},{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"USDT",label:"USDT"}],B=[{value:"24hours",label:"24小时"},{value:"7days",label:"7天"},{value:"30days",label:"30天"},{value:"3months",label:"3个月"},{value:"all",label:"全部时间"}],p=async(d=1)=>{x.value=!0;try{const a={page:d,per_page:20};o.value.status!=="all"&&(o.value.status==="disputed"?a.status="disputed":a.status=o.value.status),o.value.trade_type!=="all"&&(a.trade_type=o.value.trade_type),o.value.cryptocurrency!=="all"&&(a.cryptocurrency=o.value.cryptocurrency),o.value.time_range!=="all"&&(a.time_range=o.value.time_range),u.value&&(a.search=u.value);const t=await Y.get("/web/api/orders",{params:a});t.data.success&&(i.value=t.data.data.data||[],g.value={current_page:t.data.data.current_page||1,last_page:t.data.data.last_page||1,per_page:t.data.data.per_page||20,total:t.data.data.total||0})}catch(a){console.error("获取订单失败:",a)}finally{x.value=!1}};E([o],()=>{p(1)},{deep:!0}),E(u,d=>{clearTimeout(U.value),U.value=setTimeout(()=>{p(1)},500)}),G(()=>{p()});const b=J(()=>{const d=i.value.filter(t=>t.status==="trading").length,a=i.value.filter(t=>t.status==="completed").length;return{active:d,completed:a,total:g.value.total||i.value.length}}),m=d=>{const a=window.Laravel?.user?.id;return a?d.buyer_id===a?"buyer":"seller":null},w=d=>({order_initiated:10,vendor_confirmed:20,seller_paid:30,escrow_received:50,buyer_confirmed_escrow:60,buyer_paid:80,seller_received:90,escrow_released:100,cancelled:0})[d.escrow_status]||0,T=d=>{if(!d)return"";const a=new Date(d),v=new Date-a,C=Math.floor(v/(1e3*60*60));if(C<1)return`${Math.floor(v/6e4)}分钟前`;if(C<24)return`${C}小时前`;{const H=(a.getMonth()+1).toString().padStart(2,"0"),q=a.getDate().toString().padStart(2,"0"),K=a.getHours().toString().padStart(2,"0"),Q=a.getMinutes().toString().padStart(2,"0");return`${H}/${q} ${K}:${Q}`}},P=d=>d.is_disputed?"争议中":{trading:"交易中",completed:"已完成",cancelled:"已取消"}[d.status]||d.status,D=d=>({order_initiated:"订单创建",vendor_confirmed:"商家已确认",seller_paid:"卖家已转币",escrow_received:"托管已到账",buyer_confirmed_escrow:"买家已确认托管",buyer_paid:"买家已付款",seller_received:"卖家已收款",escrow_released:"托管已释放",cancelled:"已取消"})[d]||d,L=d=>d.is_disputed?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":{trading:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",completed:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",cancelled:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}[d.status]||"bg-gray-100 text-gray-700",N=d=>{p(d)};return(d,a)=>(s(),W(Z,null,{default:V(()=>[n(M(X),{title:"订单"}),e("div",ee,[e("div",te,[e("div",ae,[a[13]||(a[13]=e("div",null,[e("h1",{class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100"},"我的订单"),e("p",{class:"hidden sm:block text-sm text-gray-500 dark:text-gray-400 mt-1"},"管理和跟踪您的所有交易订单")],-1)),e("div",re,[e("div",se,[e("p",le,r(b.value.active),1),a[8]||(a[8]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"进行中",-1))]),a[11]||(a[11]=e("div",{class:"h-6 sm:h-8 w-px bg-gray-200 dark:bg-gray-700"},null,-1)),e("div",oe,[e("p",de,r(b.value.completed),1),a[9]||(a[9]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"已完成",-1))]),a[12]||(a[12]=e("div",{class:"h-6 sm:h-8 w-px bg-gray-200 dark:bg-gray-700"},null,-1)),e("div",ne,[e("p",ie,r(b.value.total),1),a[10]||(a[10]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"总订单",-1))])])]),e("div",ge,[e("div",ue,[(s(),l(_,null,f($,t=>e("button",{key:t.value,onClick:v=>o.value.status=t.value,class:h(["px-3 py-1.5 text-xs font-medium rounded transition-all whitespace-nowrap cursor-pointer",o.value.status===t.value?t.value==="trading"?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 shadow-sm":t.value==="completed"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 shadow-sm":t.value==="cancelled"?"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 shadow-sm":t.value==="disputed"?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 shadow-sm":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"])},r(t.label),11,ce)),64))]),n(y,{modelValue:o.value.trade_type,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value.trade_type=t),options:z,placeholder:"交易类型",size:"sm",class:"w-32"},null,8,["modelValue"]),n(y,{modelValue:o.value.cryptocurrency,"onUpdate:modelValue":a[1]||(a[1]=t=>o.value.cryptocurrency=t),options:S,placeholder:"币种",size:"sm",class:"w-32"},null,8,["modelValue"]),n(y,{modelValue:o.value.time_range,"onUpdate:modelValue":a[2]||(a[2]=t=>o.value.time_range=t),options:B,placeholder:"时间范围",size:"sm",class:"w-32"},null,8,["modelValue"]),e("div",ye,[e("div",xe,[A(e("input",{"onUpdate:modelValue":a[3]||(a[3]=t=>u.value=t),type:"text",placeholder:"搜索订单号或用户名...",class:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500"},null,512),[[F,u.value]]),a[14]||(a[14]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])]),e("div",pe,[e("div",me,[e("div",ve,[(s(),l(_,null,f($,t=>e("button",{key:t.value,onClick:v=>o.value.status=t.value,class:h(["px-3 py-1.5 text-xs font-medium rounded transition-all whitespace-nowrap cursor-pointer",o.value.status===t.value?t.value==="trading"?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 shadow-sm":t.value==="completed"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 shadow-sm":t.value==="cancelled"?"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 shadow-sm":t.value==="disputed"?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 shadow-sm":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"])},r(t.label),11,_e)),64))])]),e("div",fe,[n(y,{modelValue:o.value.trade_type,"onUpdate:modelValue":a[4]||(a[4]=t=>o.value.trade_type=t),options:z,placeholder:"类型",size:"sm",class:"w-full"},null,8,["modelValue"]),n(y,{modelValue:o.value.cryptocurrency,"onUpdate:modelValue":a[5]||(a[5]=t=>o.value.cryptocurrency=t),options:S,placeholder:"币种",size:"sm",class:"w-full"},null,8,["modelValue"]),n(y,{modelValue:o.value.time_range,"onUpdate:modelValue":a[6]||(a[6]=t=>o.value.time_range=t),options:B,placeholder:"时间",size:"sm",class:"w-full"},null,8,["modelValue"]),e("div",he,[A(e("input",{"onUpdate:modelValue":a[7]||(a[7]=t=>u.value=t),type:"text",placeholder:"搜索...",class:"w-full pl-8 pr-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-emerald-500"},null,512),[[F,u.value]]),a[15]||(a[15]=e("svg",{class:"absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])])])]),e("div",ke,[e("div",be,[x.value?(s(),l("div",we,[...a[16]||(a[16]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"},null,-1)])])):i.value.length===0?(s(),l("div",Ce,[...a[17]||(a[17]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-4 text-sm text-gray-500 dark:text-gray-400"},"暂无订单记录",-1)])])):(s(),l("div",Ve,[e("table",Me,[a[22]||(a[22]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"订单信息"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"买家"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"卖家"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"金额"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"状态"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"操作")])],-1)),e("tbody",je,[(s(!0),l(_,null,f(i.value,t=>(s(),l("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"},[e("td",Ue,[e("div",null,[e("div",$e,[e("span",ze,"#"+r(t.order_no),1)]),e("div",Se,[a[18]||(a[18]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),j(" "+r(T(t.created_at)),1)])])]),e("td",Be,[m(t)==="buyer"?(s(),l("div",Te,[...a[19]||(a[19]=[e("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"我",-1),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"当前用户",-1)])])):t.buyer?(s(),l("div",Pe,[e("a",{href:`/trader/profile/${t.buyer.id}`,target:"_blank",class:"cursor-pointer"},[t.buyer.profile_photo_url?(s(),l("img",{key:0,src:t.buyer.profile_photo_url,alt:t.buyer.name,class:"h-8 w-8 rounded-full object-cover hover:ring-2 hover:ring-gray-500 transition-all"},null,8,Le)):(s(),l("div",Ne,[e("span",He,r((t.buyer.name||"U")[0].toUpperCase()),1)]))],8,De),e("div",null,[e("a",{href:`/trader/profile/${t.buyer.id}`,target:"_blank",class:"text-sm font-medium text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-300 cursor-pointer"},r(t.buyer.name),9,Ee)])])):k("",!0)]),e("td",Ae,[m(t)==="seller"?(s(),l("div",Fe,[...a[20]||(a[20]=[e("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"我",-1),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"当前用户",-1)])])):t.seller?(s(),l("div",Ie,[e("a",{href:`/trader/profile/${t.seller.id}`,target:"_blank",class:"cursor-pointer"},[t.seller.profile_photo_url?(s(),l("img",{key:0,src:t.seller.profile_photo_url,alt:t.seller.name,class:"h-8 w-8 rounded-full object-cover hover:ring-2 hover:ring-gray-500 transition-all"},null,8,Re)):(s(),l("div",qe,[e("span",Ke,r((t.seller.name||"U")[0].toUpperCase()),1)]))],8,Oe),e("div",null,[e("a",{href:`/trader/profile/${t.seller.id}`,target:"_blank",class:"text-sm font-medium text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-300 cursor-pointer"},r(t.seller.name),9,Qe)])])):k("",!0)]),e("td",Ge,[e("div",null,[e("p",Je,r(t.crypto_amount)+" "+r(t.currency_label||t.currency_key||t.crypto_currency),1),e("p",We," ≈ "+r(t.fiat_currency_symbol||"¥")+r((t.fiat_amount||0).toLocaleString())+" "+r(t.fiat_currency),1)])]),e("td",Xe,[e("div",null,[e("div",Ye,[e("span",{class:h(["inline-flex items-center px-2 py-1 rounded text-xs font-medium",L(t)])},r(P(t)),3)]),e("div",Ze,[e("div",et,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-1.5 rounded-full transition-all",style:I(`width: ${w(t)}%`)},null,4)])]),e("p",tt,r(D(t.escrow_status)),1)])]),e("td",at,[n(M(O),{href:`/trade/${t.order_no}/chat`,class:"inline-flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 bg-gray-100 dark:bg-gray-800 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors cursor-pointer"},{default:V(()=>[...a[21]||(a[21]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),j(" 查看详情 ",-1)])]),_:1},8,["href"])])]))),128))])])])),e("div",rt,[n(R,{"current-page":g.value.current_page,total:g.value.total,"per-page":g.value.per_page,"onUpdate:currentPage":N},null,8,["current-page","total","per-page"])])]),e("div",st,[x.value?(s(),l("div",lt,[...a[23]||(a[23]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"},null,-1)])])):i.value.length===0?(s(),l("div",ot,[...a[24]||(a[24]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-4 text-sm text-gray-500 dark:text-gray-400"},"暂无订单记录",-1)])])):(s(),l("div",dt,[(s(!0),l(_,null,f(i.value,t=>(s(),l("div",{key:t.id,class:"bg-white dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-800 overflow-hidden"},[e("div",nt,[e("div",it,[e("div",gt,[a[25]||(a[25]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"订单号:",-1)),e("span",ut,"#"+r(t.order_no),1)]),e("span",{class:h(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",L(t)])},r(P(t)),3)]),e("div",ct,[a[26]||(a[26]=e("svg",{class:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",yt,r(T(t.created_at)),1)])]),e("div",xt,[e("div",pt,[e("div",mt,[a[28]||(a[28]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"买家",-1)),m(t)==="buyer"?(s(),l("div",vt,[...a[27]||(a[27]=[e("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"我",-1),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"当前用户",-1)])])):t.buyer?(s(),l("div",_t,[e("a",{href:`/trader/profile/${t.buyer.id}`,target:"_blank",class:"cursor-pointer"},[t.buyer.profile_photo_url?(s(),l("img",{key:0,src:t.buyer.profile_photo_url,alt:t.buyer.name,class:"h-6 w-6 rounded-full object-cover hover:ring-2 hover:ring-gray-500 transition-all"},null,8,ht)):(s(),l("div",kt,[e("span",bt,r((t.buyer.name||"U")[0].toUpperCase()),1)]))],8,ft),e("a",{href:`/trader/profile/${t.buyer.id}`,target:"_blank",class:"text-sm font-medium text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-300 truncate cursor-pointer"},r(t.buyer.name),9,wt)])):k("",!0)]),e("div",Ct,[a[30]||(a[30]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"卖家",-1)),m(t)==="seller"?(s(),l("div",Vt,[...a[29]||(a[29]=[e("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"我",-1),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"当前用户",-1)])])):t.seller?(s(),l("div",Mt,[e("a",{href:`/trader/profile/${t.seller.id}`,target:"_blank",class:"cursor-pointer"},[t.seller.profile_photo_url?(s(),l("img",{key:0,src:t.seller.profile_photo_url,alt:t.seller.name,class:"h-6 w-6 rounded-full object-cover hover:ring-2 hover:ring-gray-500 transition-all"},null,8,Ut)):(s(),l("div",$t,[e("span",zt,r((t.seller.name||"U")[0].toUpperCase()),1)]))],8,jt),e("a",{href:`/trader/profile/${t.seller.id}`,target:"_blank",class:"text-sm font-medium text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-300 truncate cursor-pointer"},r(t.seller.name),9,St)])):k("",!0)])]),e("div",Bt,[e("div",Tt,[e("div",null,[a[31]||(a[31]=e("p",{class:"text-xs text-gray-600 dark:text-gray-400"},"交易金额",-1)),e("p",Pt,r(t.crypto_amount)+" "+r(t.currency_label||t.currency_key||t.crypto_currency),1)]),e("div",Dt,[a[32]||(a[32]=e("p",{class:"text-xs text-gray-600 dark:text-gray-400"},"法币金额",-1)),e("p",Lt,r(t.fiat_currency_symbol||"¥")+r((t.fiat_amount||0).toLocaleString())+" "+r(t.fiat_currency),1)])])]),e("div",null,[e("div",Nt,[a[33]||(a[33]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"托管状态",-1)),e("span",Ht,r(w(t))+"%",1)]),e("div",Et,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-1.5 rounded-full transition-all",style:I(`width: ${w(t)}%`)},null,4)]),e("p",At,r(D(t.escrow_status)),1)]),n(M(O),{href:`/trade/${t.order_no}/chat`,class:"w-full inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 bg-gray-100 dark:bg-gray-800 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors cursor-pointer"},{default:V(()=>[...a[34]||(a[34]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),j(" 查看详情 ",-1)])]),_:1},8,["href"])])]))),128)),e("div",Ft,[n(R,{"current-page":g.value.current_page,total:g.value.total,"per-page":g.value.per_page,"onUpdate:currentPage":N},null,8,["current-page","total","per-page"])])]))])])]),_:1}))}};export{Jt as default};
