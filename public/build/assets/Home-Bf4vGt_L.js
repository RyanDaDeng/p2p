import{c as y,o as a,b as m,w as f,f as o,i as u,q as ke,a as e,T as pe,t as l,H as be,m as E,g as w,B as _e,d as G,I as Q,h as Ce,k as v,j as d,J as B,e as Me,v as Le,F as X,l as ee,y as te,n as S,E as Be,K as ze}from"./app-D0hhhJod.js";import{a as Ve,P as Ue}from"./P2PAppLayout-C3Uu7OUq.js";import{_ as z}from"./P2PButton-CJe03L3t.js";import{P as j}from"./P2PSelect-CftP4xci.js";import{_ as De}from"./P2PPagination-BPHsBCTL.js";import{_ as me}from"./P2PPaymentMethodPicker-DQ5qs68Y.js";import{_ as Te}from"./P2PDialog-DGC4hiKz.js";import{u as Se}from"./useConfig-DgepHPwT.js";import{g as k,a as P}from"./crypto-CkhXHj44.js";import{_ as Fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */import"./UsdcIcon-IlsZhTtL.js";const je={key:0,class:"relative w-full max-w-md bg-white dark:bg-slate-900 rounded-2xl shadow-2xl overflow-hidden"},Pe={class:"p-8 text-center"},Ee={class:"text-gray-600 dark:text-slate-400 mb-8"},$e={class:"mt-6 flex items-center justify-center gap-2"},Ae={__name:"P2PLoginPrompt",props:{modelValue:{type:Boolean,default:!1},message:{type:String,default:null},returnUrl:{type:String,default:null}},emits:["update:modelValue"],setup(x,{emit:L}){const _=x,$=L,g=()=>{$("update:modelValue",!1)},U=()=>{g(),_.returnUrl?E.visit(`/login?return=${encodeURIComponent(_.returnUrl)}`):E.visit("/login")},A=()=>{g(),_.returnUrl?E.visit(`/register?return=${encodeURIComponent(_.returnUrl)}`):E.visit("/register")};return(C,p)=>(a(),y(be,{to:"body"},[m(pe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[x.modelValue?(a(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:ke(g,["self"])},[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:g}),m(pe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:f(()=>[x.modelValue?(a(),o("div",je,[e("button",{onClick:g,class:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors cursor-pointer"},[...p[0]||(p[0]=[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),e("div",Pe,[p[4]||(p[4]=e("div",{class:"mx-auto w-20 h-20 bg-gradient-to-br from-emerald-100 to-emerald-200 dark:from-emerald-900/30 dark:to-emerald-800/30 rounded-full flex items-center justify-center mb-6"},[e("svg",{class:"w-10 h-10 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),p[5]||(p[5]=e("h3",{class:"text-2xl font-bold text-gray-900 dark:text-slate-100 mb-3"}," 登录后继续 ",-1)),e("p",Ee,l(x.message||"请先登录您的账户以继续此操作"),1),e("div",{class:"space-y-3"},[e("button",{onClick:U,class:"w-full py-3 px-6 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-700 hover:to-emerald-600 text-white font-medium rounded-xl transition-all duration-200 transform hover:scale-[1.02] shadow-lg hover:shadow-xl cursor-pointer"},[...p[1]||(p[1]=[e("div",{class:"flex items-center justify-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})]),e("span",null,"立即登录")],-1)])]),e("button",{onClick:A,class:"w-full py-3 px-6 bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-300 font-medium rounded-xl border-2 border-gray-200 dark:border-slate-700 hover:border-emerald-500 dark:hover:border-emerald-500 transition-all duration-200 cursor-pointer"},[...p[2]||(p[2]=[e("div",{class:"flex items-center justify-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})]),e("span",null,"立即注册")],-1)])])]),e("div",$e,[p[3]||(p[3]=e("img",{src:"/logo.png",alt:"Logo",class:"h-5 w-auto"},null,-1)),m(Ve)])])])):u("",!0)]),_:1})])):u("",!0)]),_:1})]))}};function He(){const x=w(!1),L=w(""),_=w(""),$=_e(),g=()=>!!$.props.auth?.user,U=(C=null,p=null)=>g()?(C&&typeof C=="function"&&C(),!0):(L.value=p||"请先登录您的账户以继续此操作",_.value=window.location.pathname+window.location.search,x.value=!0,!1);return{isAuthenticated:g,requireAuth:U,navigateWithAuth:(C,p=null)=>{U(null,p)&&E.visit(C)},showLoginPrompt:x,loginPromptMessage:L,returnUrl:_}}const V={cn:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#DE2910"/>
        <g fill="#FFDE00">
            <polygon points="4,3 4.6,4.8 6.5,4.8 5,6 5.5,7.8 4,6.6 2.5,7.8 3,6 1.5,4.8 3.4,4.8"/>
            <polygon points="8,1 8.2,1.6 8.8,1.6 8.3,2 8.5,2.6 8,2.2 7.5,2.6 7.7,2 7.2,1.6 7.8,1.6" transform="scale(0.7)"/>
            <polygon points="10,3 10.2,3.6 10.8,3.6 10.3,4 10.5,4.6 10,4.2 9.5,4.6 9.7,4 9.2,3.6 9.8,3.6" transform="scale(0.7)"/>
            <polygon points="10,6 10.2,6.6 10.8,6.6 10.3,7 10.5,7.6 10,7.2 9.5,7.6 9.7,7 9.2,6.6 9.8,6.6" transform="scale(0.7)"/>
            <polygon points="8,8 8.2,8.6 8.8,8.6 8.3,9 8.5,9.6 8,9.2 7.5,9.6 7.7,9 7.2,8.6 7.8,8.6" transform="scale(0.7)"/>
        </g>
    </svg>`,us:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#B22234"/>
        <g fill="white">
            <rect y="1.23" width="24" height="1.23"/>
            <rect y="3.69" width="24" height="1.23"/>
            <rect y="6.15" width="24" height="1.23"/>
            <rect y="8.62" width="24" height="1.23"/>
            <rect y="11.08" width="24" height="1.23"/>
            <rect y="13.54" width="24" height="1.23"/>
        </g>
        <rect width="9.6" height="8.62" fill="#3C3B6E"/>
    </svg>`,uk:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#012169"/>
        <path d="M0,0 L24,16 M24,0 L0,16" stroke="white" stroke-width="3"/>
        <path d="M0,0 L24,16 M24,0 L0,16" stroke="#C8102E" stroke-width="2"/>
        <path d="M12,0 v16 M0,8 h24" stroke="white" stroke-width="5"/>
        <path d="M12,0 v16 M0,8 h24" stroke="#C8102E" stroke-width="3"/>
    </svg>`,sg:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="8" fill="#EF3340"/>
        <rect y="8" width="24" height="8" fill="white"/>
        <g fill="white">
            <circle cx="6" cy="4" r="2.5" fill="white"/>
            <circle cx="7.5" cy="4" r="2.5" fill="#EF3340"/>
            <g transform="translate(5,3)">
                <polygon points="2,0 2.3,0.9 3.2,0.9 2.5,1.4 2.8,2.3 2,1.8 1.2,2.3 1.5,1.4 0.8,0.9 1.7,0.9" fill="white" transform="scale(0.3)"/>
                <polygon points="6,0 6.3,0.9 7.2,0.9 6.5,1.4 6.8,2.3 6,1.8 5.2,2.3 5.5,1.4 4.8,0.9 5.7,0.9" fill="white" transform="scale(0.3)"/>
                <polygon points="4,2 4.3,2.9 5.2,2.9 4.5,3.4 4.8,4.3 4,3.8 3.2,4.3 3.5,3.4 2.8,2.9 3.7,2.9" fill="white" transform="scale(0.3)"/>
                <polygon points="1,3 1.3,3.9 2.2,3.9 1.5,4.4 1.8,5.3 1,4.8 0.2,5.3 0.5,4.4 -0.2,3.9 0.7,3.9" fill="white" transform="scale(0.3)"/>
                <polygon points="7,3 7.3,3.9 8.2,3.9 7.5,4.4 7.8,5.3 7,4.8 6.2,5.3 6.5,4.4 5.8,3.9 6.7,3.9" fill="white" transform="scale(0.3)"/>
            </g>
        </g>
    </svg>`,hk:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#DE2910"/>
        <g fill="white" transform="translate(12,8)">
            <path d="M0,-4 C1,-3 2,-2 2,0 C2,2 1,3 0,4 C-1,3 -2,2 -2,0 C-2,-2 -1,-3 0,-4" fill="white"/>
            <g transform="rotate(0)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
            <g transform="rotate(72)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
            <g transform="rotate(144)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
            <g transform="rotate(216)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
            <g transform="rotate(288)">
                <path d="M0,-3.5 L0.5,-2 L-0.5,-2 Z" fill="#DE2910"/>
            </g>
        </g>
    </svg>`,jp:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="white"/>
        <circle cx="12" cy="8" r="4.8" fill="#BC002D"/>
    </svg>`,kr:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="white"/>
        <g transform="translate(12,8)">
            <circle cx="0" cy="0" r="4" fill="#C60C30"/>
            <path d="M-2,0 A2,2 0 0,1 2,0 A2,2 0 0,0 -2,0" fill="#003478"/>
            <rect x="-5" y="-5" width="2" height="1" fill="black" transform="rotate(30)"/>
            <rect x="-5" y="4" width="2" height="1" fill="black" transform="rotate(30)"/>
            <rect x="3" y="-5" width="2" height="1" fill="black" transform="rotate(30)"/>
            <rect x="3" y="4" width="2" height="1" fill="black" transform="rotate(30)"/>
        </g>
    </svg>`,au:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#012169"/>
        <path d="M0,0 L12,8 M12,0 L0,8" stroke="white" stroke-width="1.5"/>
        <path d="M0,0 L12,8 M12,0 L0,8" stroke="#E4002B" stroke-width="1"/>
        <path d="M6,0 v8 M0,4 h12" stroke="white" stroke-width="2.5"/>
        <path d="M6,0 v8 M0,4 h12" stroke="#E4002B" stroke-width="1.5"/>
        <g fill="white">
            <polygon points="12,10 12.3,10.9 13.2,10.9 12.5,11.4 12.8,12.3 12,11.8 11.2,12.3 11.5,11.4 10.8,10.9 11.7,10.9"/>
            <polygon points="18,12 18.15,12.45 18.6,12.45 18.25,12.7 18.4,13.15 18,12.9 17.6,13.15 17.75,12.7 17.4,12.45 17.85,12.45" transform="scale(0.7)"/>
            <polygon points="6,12 6.15,12.45 6.6,12.45 6.25,12.7 6.4,13.15 6,12.9 5.6,13.15 5.75,12.7 5.4,12.45 5.85,12.45" transform="scale(0.7)"/>
            <polygon points="21,8 21.15,8.45 21.6,8.45 21.25,8.7 21.4,9.15 21,8.9 20.6,9.15 20.75,8.7 20.4,8.45 20.85,8.45" transform="scale(0.7)"/>
            <polygon points="18,5 18.15,5.45 18.6,5.45 18.25,5.7 18.4,6.15 18,5.9 17.6,6.15 17.75,5.7 17.4,5.45 17.85,5.45" transform="scale(0.5)"/>
        </g>
    </svg>`,ca:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="6" height="16" fill="#FF0000"/>
        <rect x="6" width="12" height="16" fill="white"/>
        <rect x="18" width="6" height="16" fill="#FF0000"/>
        <path d="M12,4 L11,8 L9,7 L10,9 L8,9 L10,10 L9,12 L12,10 L15,12 L14,10 L16,9 L14,9 L15,7 L13,8 Z" fill="#FF0000"/>
    </svg>`,de:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="5.33" fill="black"/>
        <rect y="5.33" width="24" height="5.33" fill="#DD0000"/>
        <rect y="10.67" width="24" height="5.33" fill="#FFCE00"/>
    </svg>`,fr:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="8" height="16" fill="#002395"/>
        <rect x="8" width="8" height="16" fill="white"/>
        <rect x="16" width="8" height="16" fill="#ED2939"/>
    </svg>`,in:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="5.33" fill="#FF9933"/>
        <rect y="5.33" width="24" height="5.33" fill="white"/>
        <rect y="10.67" width="24" height="5.33" fill="#138808"/>
        <circle cx="12" cy="8" r="2" fill="#000080"/>
        <circle cx="12" cy="8" r="1.8" fill="white"/>
        <g fill="#000080" transform="translate(12,8)">
            <circle cx="0" cy="0" r="0.4"/>
            <g id="spoke">
                <line x1="0" y1="0" x2="0" y2="-1.8" stroke="#000080" stroke-width="0.15"/>
            </g>
            <use href="#spoke" transform="rotate(15)"/>
            <use href="#spoke" transform="rotate(30)"/>
            <use href="#spoke" transform="rotate(45)"/>
            <use href="#spoke" transform="rotate(60)"/>
            <use href="#spoke" transform="rotate(75)"/>
            <use href="#spoke" transform="rotate(90)"/>
            <use href="#spoke" transform="rotate(105)"/>
            <use href="#spoke" transform="rotate(120)"/>
            <use href="#spoke" transform="rotate(135)"/>
            <use href="#spoke" transform="rotate(150)"/>
            <use href="#spoke" transform="rotate(165)"/>
            <use href="#spoke" transform="rotate(180)"/>
            <use href="#spoke" transform="rotate(195)"/>
            <use href="#spoke" transform="rotate(210)"/>
            <use href="#spoke" transform="rotate(225)"/>
            <use href="#spoke" transform="rotate(240)"/>
            <use href="#spoke" transform="rotate(255)"/>
            <use href="#spoke" transform="rotate(270)"/>
            <use href="#spoke" transform="rotate(285)"/>
            <use href="#spoke" transform="rotate(300)"/>
            <use href="#spoke" transform="rotate(315)"/>
            <use href="#spoke" transform="rotate(330)"/>
            <use href="#spoke" transform="rotate(345)"/>
        </g>
    </svg>`,ru:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="5.33" fill="white"/>
        <rect y="5.33" width="24" height="5.33" fill="#0039A6"/>
        <rect y="10.67" width="24" height="5.33" fill="#D52B1E"/>
    </svg>`,br:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#009739"/>
        <polygon points="12,2 22,8 12,14 2,8" fill="#FEDD00"/>
        <circle cx="12" cy="8" r="3" fill="#012169"/>
    </svg>`,mx:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="8" height="16" fill="#006341"/>
        <rect x="8" width="8" height="16" fill="white"/>
        <rect x="16" width="8" height="16" fill="#C8102E"/>
    </svg>`,ae:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="6" height="16" fill="#00732F"/>
        <rect x="6" width="18" height="5.33" fill="#009639"/>
        <rect x="6" y="5.33" width="18" height="5.33" fill="white"/>
        <rect x="6" y="10.67" width="18" height="5.33" fill="black"/>
    </svg>`,tw:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#FE0000"/>
        <rect width="12" height="8" fill="#000095"/>
        <circle cx="6" cy="4" r="2" fill="white"/>
        <g fill="#000095" transform="translate(6,4)">
            <polygon points="0,-1.8 0.5,-0.5 1.8,0 0.5,0.5 0,1.8 -0.5,0.5 -1.8,0 -0.5,-0.5" fill="white"/>
        </g>
    </svg>`,th:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="2.67" fill="#ED1C24"/>
        <rect y="2.67" width="24" height="2.67" fill="white"/>
        <rect y="5.33" width="24" height="5.33" fill="#241D4F"/>
        <rect y="10.67" width="24" height="2.67" fill="white"/>
        <rect y="13.33" width="24" height="2.67" fill="#ED1C24"/>
    </svg>`,vn:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="16" fill="#DA251D"/>
        <polygon points="12,4 13.2,7.6 16.8,7.6 13.8,9.8 15,13.4 12,11.2 9,13.4 10.2,9.8 7.2,7.6 10.8,7.6" fill="#FFFF00"/>
    </svg>`,ph:`<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
        <rect width="24" height="8" fill="#0038A8"/>
        <rect y="8" width="24" height="8" fill="#CE1126"/>
        <polygon points="0,0 8,4 0,8" fill="white"/>
        <g fill="#FCD116">
            <circle cx="3" cy="4" r="1" fill="#FCD116"/>
            <polygon points="2,4 2.2,4.6 2.8,4.6 2.3,4.9 2.5,5.5 2,5.2 1.5,5.5 1.7,4.9 1.2,4.6 1.8,4.6" transform="scale(0.5) translate(1,5)"/>
            <polygon points="5,2 5.2,2.6 5.8,2.6 5.3,2.9 5.5,3.5 5,3.2 4.5,3.5 4.7,2.9 4.2,2.6 4.8,2.6" transform="scale(0.5) translate(1,1)"/>
            <polygon points="5,6 5.2,6.6 5.8,6.6 5.3,6.9 5.5,7.5 5,7.2 4.5,7.5 4.7,6.9 4.2,6.6 4.8,6.6" transform="scale(0.5) translate(1,3)"/>
        </g>
    </svg>`};Object.keys(V).forEach(x=>{V[x.toUpperCase()]=V[x]});V.GB=V.UK;V.gb=V.uk;function fe(x){if(!x||typeof x!="string")return"";const L=x.toLowerCase();return V[L]||""}const Re={class:"bg-gradient-to-b from-gray-100 to-gray-50 dark:from-slate-900 dark:to-slate-800 border-b border-gray-200 dark:border-slate-700"},Ie={class:"mx-auto max-w-7xl px-4 py-3 sm:px-6 lg:px-8"},Oe={class:"bg-white/70 dark:bg-slate-900/30 rounded-lg p-2 sm:p-2.5 mb-3"},Ne={key:0,class:"flex items-center justify-center gap-2 text-xs text-gray-500 dark:text-slate-400"},Ze={key:1,class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},We={class:"relative flex-1 sm:flex-initial overflow-hidden"},qe={class:"sm:hidden overflow-x-auto scrollbar-hide"},Ge={class:"flex items-center gap-3 min-w-max pr-2"},Ke={class:"flex items-center gap-1 whitespace-nowrap"},Je={class:"font-semibold text-xs text-emerald-600 dark:text-emerald-400"},Ye={class:"flex items-center gap-1 whitespace-nowrap"},Qe={class:"font-semibold text-xs text-orange-600 dark:text-orange-400"},Xe={class:"flex items-center gap-1 whitespace-nowrap"},et={class:"font-semibold text-xs text-blue-600 dark:text-blue-400"},tt={class:"hidden sm:flex items-center gap-3 md:gap-4"},rt={class:"flex items-center gap-1"},st={class:"text-xs text-gray-600 dark:text-slate-400"},lt={class:"font-semibold text-sm text-emerald-600 dark:text-emerald-400"},at={class:"flex items-center gap-1"},ot={class:"text-xs text-gray-600 dark:text-slate-400"},nt={class:"font-semibold text-sm text-orange-600 dark:text-orange-400"},it={class:"flex items-center gap-1"},dt={class:"text-xs text-gray-600 dark:text-slate-400"},ct={class:"font-semibold text-sm text-blue-600 dark:text-blue-400"},ut={class:"hidden sm:flex flex-wrap items-center gap-1.5"},pt={class:"flex items-center bg-white/80 dark:bg-slate-900/50 rounded-lg p-1 border border-gray-200 dark:border-slate-700"},mt={class:"truncate text-gray-900 dark:text-slate-100"},ft={class:"truncate"},ht={class:"min-w-[160px] max-w-[200px]"},xt={class:"sm:hidden space-y-2"},gt={class:"flex items-center justify-between gap-2"},vt={class:"flex items-center bg-white/80 dark:bg-slate-900/50 rounded-lg p-1 border border-gray-200 dark:border-slate-700"},yt={class:"grid grid-cols-2 gap-2"},wt={class:"truncate text-gray-900 dark:text-slate-100"},kt={class:"truncate"},bt={class:"min-h-screen bg-gray-50 dark:bg-slate-950"},_t={class:"mx-auto max-w-7xl px-2 sm:px-4 py-4 lg:px-8"},Ct={class:"mb-4"},Mt={class:"inline-flex items-center gap-1.5 sm:gap-2 px-3 py-2.5 sm:py-2 bg-white/80 dark:bg-slate-900/50 rounded-lg border border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600 cursor-pointer transition-colors"},Lt={key:0,class:"text-center py-20"},Bt={key:1,class:"text-center py-12"},zt={class:"text-red-600 dark:text-red-400"},Vt={key:2,class:"text-center py-12"},Ut={key:3,class:"hidden md:block space-y-2"},Dt={class:"p-4"},Tt={class:"grid grid-cols-12 gap-4 items-center"},St={class:"col-span-3 flex items-center gap-3"},Ft=["src","alt"],jt={class:"text-white font-bold text-lg"},Pt={class:"min-w-0 flex-1"},Et={class:"flex items-center gap-2 flex-wrap"},$t=["innerHTML"],At={key:0,class:"flex items-center gap-1"},Ht={class:"flex items-center gap-3 mt-1"},Rt={class:"flex items-center gap-1"},It={class:"flex items-center"},Ot={class:"text-xs font-medium text-gray-600 dark:text-slate-400"},Nt={class:"flex items-center gap-3 mt-1"},Zt={class:"flex items-center gap-1"},Wt={class:"text-xs text-gray-500 dark:text-slate-500"},qt={key:0,class:"flex items-center gap-1"},Gt={class:"text-xs text-gray-500 dark:text-slate-500"},Kt={class:"col-span-4"},Jt={class:"space-y-1.5"},Yt={class:"flex items-start gap-2 flex-wrap"},Qt={class:"px-2 py-0.5 bg-blue-500/10 border border-blue-500/20 dark:border-blue-500/30 rounded text-xs font-medium text-blue-600 dark:text-blue-400"},Xt={key:0,class:"text-xs text-gray-600 dark:text-slate-400 italic line-clamp-2"},er={class:"col-span-2 text-right"},tr={class:"text-xs font-medium text-gray-500 dark:text-slate-500 mb-1"},rr={key:0,class:"text-gray-600 dark:text-slate-400"},sr={key:1,class:"text-gray-600 dark:text-slate-400"},lr={class:"text-xl lg:text-2xl text-emerald-500 font-bold leading-none"},ar={class:"col-span-3"},or={class:"text-right"},nr={class:"text-sm mb-2"},ir={class:"text-emerald-500 font-medium ml-1"},dr={class:"flex items-center gap-2 justify-center"},cr={class:"inline-flex items-center justify-center w-6 h-6 bg-white rounded-full"},ur={class:"flex items-center gap-2 justify-center"},pr={class:"inline-flex items-center justify-center w-6 h-6 bg-white rounded-full"},mr={class:"px-4 py-2 bg-gray-50 dark:bg-slate-800/30 border-t border-gray-200 dark:border-slate-800 rounded-b-lg"},fr={class:"flex flex-wrap items-center gap-2"},hr={key:0,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 rounded-full text-xs font-medium"},xr={key:1,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 dark:bg-gray-800/50 text-gray-600 dark:text-gray-400 rounded-full text-xs font-medium"},gr={key:2,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium"},vr={class:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs font-medium"},yr={key:3,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 rounded-full text-xs font-medium"},wr={key:4,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 rounded-full text-xs font-medium"},kr={key:4,class:"md:hidden space-y-2"},br={class:"p-3"},_r={class:"flex items-center justify-between mb-2.5"},Cr={class:"flex items-center gap-2.5"},Mr=["src","alt"],Lr={class:"text-white font-bold text-sm"},Br={class:"flex-1"},zr={class:"flex items-center gap-1"},Vr=["innerHTML"],Ur={class:"text-sm font-semibold text-gray-900 dark:text-slate-100"},Dr={key:1,class:"w-3.5 h-3.5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},Tr={class:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-400 mt-0.5"},Sr={class:"flex items-center gap-0.5"},Fr={key:0},jr={key:1},Pr={class:"bg-gray-50 dark:bg-slate-800/30 rounded-lg p-2.5 mb-2.5"},Er={class:"flex items-start justify-between"},$r={class:"text-xs text-gray-500 dark:text-slate-400 mb-0.5"},Ar={key:0},Hr={key:1},Rr={class:"text-xl font-bold text-emerald-600 dark:text-emerald-400"},Ir={class:"text-right"},Or={class:"text-xs font-medium text-gray-700 dark:text-slate-300"},Nr={class:"text-xs font-medium text-gray-700 dark:text-slate-300"},Zr={class:"flex flex-wrap items-center gap-1 mb-2.5"},Wr={key:0,class:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 rounded-full text-xs"},qr={key:1,class:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs"},Gr={class:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs"},Kr={key:2,class:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 rounded-full text-xs"},Jr={class:"space-y-2 mb-3"},Yr={class:"flex flex-wrap items-center gap-1.5"},Qr={class:"px-2 py-0.5 bg-blue-500/10 border border-blue-500/20 dark:border-blue-500/30 rounded text-xs font-medium text-blue-600 dark:text-blue-400"},Xr={key:0,class:"text-xs text-gray-600 dark:text-slate-400 italic"},e0={class:"flex gap-2"},t0={class:"flex items-center gap-1.5 justify-center"},r0={class:"inline-flex items-center justify-center w-5 h-5 bg-white rounded-full"},s0={class:"flex items-center gap-1.5 justify-center"},l0={class:"inline-flex items-center justify-center w-5 h-5 bg-white rounded-full"},a0={class:"mt-6 border-t border-gray-200 dark:border-slate-800 pt-6"},o0={__name:"Home",props:{},setup(x){const{fetchConfig:L,getCryptocurrencyOptions:_,getFiatCurrencyOptions:$,getCryptocurrencyByKey:g,getPaymentMethodDetails:U,getFiatCurrencyByCode:A,paymentMethods:C}=Se(),p=localStorage.getItem("selectedFiatCurrency"),h=w(!p||p==="null"||p==="undefined"?null:p),re=G(()=>$()),M=w({crypto_prices_usd:{},exchange_rates:{},loading:!1}),i=w({tradeType:"buy",cryptocurrency:null,paymentMethod:null,sortBy:"recent",onlyVerified:!1}),se=w([]),H=w(!1),D=w(null),N=w(!1),K=w(null),le=w("buy"),{requireAuth:he,showLoginPrompt:J,loginPromptMessage:xe,returnUrl:ge}=He(),ve=async()=>{M.value.loading=!0;try{const s=await ze.get("/web/api/market/prices");s.data&&(M.value={...s.data,loading:!1})}catch(s){console.error("Failed to fetch crypto prices:",s),M.value.loading=!1}},Z=async()=>{H.value=!0,D.value=null;try{const s=new URLSearchParams;s.append("trade_type",i.value.tradeType),h.value&&h.value!=="null"&&s.append("fiat_currency",h.value),i.value.cryptocurrency&&s.append("currency_key",i.value.cryptocurrency),i.value.paymentMethod&&s.append("payment_method",i.value.paymentMethod);const r={rating:"rating",trades:"trades",recent:"created_at"};s.append("sort_by",r[i.value.sortBy]||"rating"),s.append("sort_order","desc"),s.append("per_page","50");const c=await(await fetch(`/web/api/ads?${s}`)).json();c.success?(console.log("Raw ad data:",c.data.ads[0]),se.value=c.data.ads.map(n=>({id:n.id,type:n.trade_type,cryptocurrency:n.currency_key,fiat_currency:n.fiat_currency,price:n.price,price_model:n.price_model,margin:n.margin,minAmount:n.min_limit,maxAmount:n.max_limit,limits:{min:n.min_limit||0,max:n.max_limit||1e4},paymentMethod:n.payment_method,paymentWindow:n.payment_time_limit||15,notes:n.notes,country:n.country,country_name:n.country_name,seller:{id:n.user?.id||0,name:n.user?.name||"Unknown",avatar:n.user?.profile_photo_url||null,profile_photo_url:n.user?.profile_photo_url||null,rating:n.user?.avg_rating||5,totalReviews:n.user?.total_reviews||0,trades:n.user?.trades_count||0,isVerified:n.user?.is_verified||!1,lastSeen:n.user?.last_seen||null,responseTime:n.user?.response_time||null,completionRate:98.5}}))):D.value=c.message||"获取广告列表失败"}catch(s){D.value="网络错误，请稍后重试",console.error("Failed to fetch ads:",s)}finally{H.value=!1}},ye=s=>{if(!s)return"";const r=s.toLowerCase();return r.includes("usdt")||r.includes("usdc")?"USDT":r==="btc"||r==="bitcoin"?"BTC":r==="eth"||r==="ethereum"?"ETH":r.toUpperCase()},T=s=>{if(!s)return"";const r=A(s);if(r?.symbol)return r.symbol;const t=M.value.currencies?.[s];return t?.symbol?t.symbol:""},F=(s,r)=>{const t=M.value.crypto_prices_usd?.[s],c=M.value.exchange_rates?.[r]||1;if(!t)return"-";const n=t*c,O=T(r),ue=A(r)?.decimal_places??2;return ue===0?O+Math.round(n).toLocaleString():O+n.toFixed(ue)},ae=(s,r)=>{if(!s||!r)return 0;const t=ye(s),c=M.value.crypto_prices_usd?.[t],n=M.value.exchange_rates?.[r]||1;return c?c*n:0},oe=s=>{if(!s)return 0;if(s.price_model==="dynamic"){const r=ae(s.cryptocurrency,s.fiat_currency);if(!r||r===0)return s.price||0;const t=s.margin||0;return r*(1+t/100)}else return s.price||0},b=s=>{const r=ae(s.cryptocurrency,s.fiat_currency);return!r||r===0?null:s.price_model==="dynamic"?s.margin||0:(s.price-r)/r*100};Q(i,()=>{R.value=1,Z()},{deep:!0}),Q(h,s=>{s?localStorage.setItem("selectedFiatCurrency",s):localStorage.removeItem("selectedFiatCurrency"),Z()});const W=(s,r)=>{const t=()=>{K.value=s,le.value=r,N.value=!0},c=r==="buy"?`请先登录以购买 ${g(s.cryptocurrency)?.label||P(s.cryptocurrency)}`:`请先登录以出售 ${g(s.cryptocurrency)?.label||P(s.cryptocurrency)}`;he(t,c)},we=()=>{N.value=!1,K.value&&E.visit(`/trade/create-order?ad_id=${K.value.id}&type=${le.value}`)};Ce(async()=>{try{await L()}catch(t){console.error("Failed to load config:",t)}new URLSearchParams(window.location.search).get("type")==="sell"&&(i.value.tradeType="sell"),Z(),ve()});const R=w(1),Y=w(10),ne=G(()=>_().map(r=>({...r,iconComponent:k(r.value)}))),q=s=>{if(!s)return!1;const r=new Date(s);return Math.floor((new Date-r)/6e4)<5},ie=s=>{if(!s)return"未知";const r=new Date(s),c=Math.floor((new Date-r)/6e4);if(c<1)return"刚刚";if(c<5)return"在线";if(c<60)return`${c}分钟前`;const n=Math.floor(c/60);if(n<24)return`${n}小时前`;const O=Math.floor(n/24);return O<7?`${O}天前`:"7天前"},de=[{value:"rating",label:"按评分",icon:"⭐"},{value:"trades",label:"按成交量",icon:"📊"},{value:"response",label:"按响应时间",icon:"⚡"},{value:"recent",label:"最新发布",icon:"🕐"}],I=G(()=>{let s=se.value;return i.value.onlyVerified&&(s=s.filter(r=>r.seller.isVerified)),s}),ce=G(()=>{const s=(R.value-1)*Y.value,r=s+Y.value;return I.value.slice(s,r)});return Q(i,()=>{R.value=1},{deep:!0}),(s,r)=>(a(),y(Ue,null,{default:f(()=>[e("div",Re,[e("div",Ie,[e("div",Oe,[M.value.loading?(a(),o("div",Ne,[...r[16]||(r[16]=[e("svg",{class:"animate-spin h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",null,"加载价格中...",-1)])])):(a(),o("div",Ze,[r[20]||(r[20]=e("div",{class:"flex flex-wrap items-center gap-2 sm:gap-3"},[e("div",{class:"flex items-center gap-1.5"},[e("div",{class:"p-1 bg-emerald-500/10 rounded"},[e("svg",{class:"w-3.5 sm:w-4 h-3.5 sm:h-4 text-emerald-600 dark:text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])]),e("span",{class:"text-xs font-semibold text-gray-800 dark:text-slate-200"},"安全托管")]),e("div",{class:"hidden sm:block h-4 w-px bg-gray-300 dark:bg-slate-700"}),e("div",{class:"flex items-center gap-1.5"},[e("svg",{class:"w-3.5 h-3.5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("span",{class:"text-xs font-medium text-gray-700 dark:text-slate-300"},"实名认证")])],-1)),e("div",We,[e("div",qe,[e("div",Ge,[e("div",Ke,[r[17]||(r[17]=e("span",{class:"text-[10px] text-gray-500 dark:text-slate-500"},"USDT",-1)),e("span",Je,l(F("USDT",h.value||"USD")),1)]),e("div",Ye,[r[18]||(r[18]=e("span",{class:"text-[10px] text-gray-500 dark:text-slate-500"},"BTC",-1)),e("span",Qe,l(F("BTC",h.value||"USD")),1)]),e("div",Xe,[r[19]||(r[19]=e("span",{class:"text-[10px] text-gray-500 dark:text-slate-500"},"ETH",-1)),e("span",et,l(F("ETH",h.value||"USD")),1)])])]),e("div",tt,[e("div",rt,[e("span",st,"USDT·"+l(h.value||"USD"),1),e("span",lt,l(F("USDT",h.value||"USD")),1)]),e("div",at,[e("span",ot,"BTC·"+l(h.value||"USD"),1),e("span",nt,l(F("BTC",h.value||"USD")),1)]),e("div",it,[e("span",dt,"ETH·"+l(h.value||"USD"),1),e("span",ct,l(F("ETH",h.value||"USD")),1)])])])]))]),e("div",ut,[e("div",pt,[r[23]||(r[23]=e("span",{class:"text-xs text-gray-600 dark:text-slate-400 px-2"},"我想要",-1)),m(z,{onClick:r[0]||(r[0]=t=>i.value.tradeType="buy"),variant:i.value.tradeType==="buy"?"primary":"ghost",size:"sm"},{default:f(()=>[...r[21]||(r[21]=[v(" 购买 ",-1)])]),_:1},8,["variant"]),m(z,{onClick:r[1]||(r[1]=t=>i.value.tradeType="sell"),variant:i.value.tradeType==="sell"?"blue":"ghost",size:"sm"},{default:f(()=>[...r[22]||(r[22]=[v(" 出售 ",-1)])]),_:1},8,["variant"])]),m(j,{modelValue:i.value.cryptocurrency,"onUpdate:modelValue":r[2]||(r[2]=t=>i.value.cryptocurrency=t),options:ne.value,placeholder:"选择币种",size:"md",class:"w-40"},{selected:f(({option:t})=>[t&&d(k)(t.value)?(a(),y(B(d(k)(t.value)),{key:0,size:16,class:"mr-2 flex-shrink-0"})):u("",!0),e("span",mt,l(t?.label),1)]),option:f(({option:t})=>[d(k)(t.value)?(a(),y(B(d(k)(t.value)),{key:0,size:16,class:"mr-2 flex-shrink-0"})):u("",!0),e("span",ft,l(t.label),1)]),_:1},8,["modelValue","options"]),e("div",ht,[m(me,{modelValue:i.value.paymentMethod,"onUpdate:modelValue":r[3]||(r[3]=t=>i.value.paymentMethod=t),placeholder:"选择支付",categories:d(C)},null,8,["modelValue","categories"])]),m(j,{modelValue:h.value,"onUpdate:modelValue":r[4]||(r[4]=t=>h.value=t),options:re.value,placeholder:"选择法币",size:"md",class:"w-32"},null,8,["modelValue","options"]),m(j,{modelValue:i.value.sortBy,"onUpdate:modelValue":r[5]||(r[5]=t=>i.value.sortBy=t),options:de,placeholder:"排序方式","default-value":"recent",size:"md",class:"w-36"},null,8,["modelValue"])]),e("div",xt,[e("div",gt,[e("div",vt,[r[26]||(r[26]=e("span",{class:"text-xs text-gray-600 dark:text-slate-400 px-2"},"我想要",-1)),m(z,{onClick:r[6]||(r[6]=t=>i.value.tradeType="buy"),variant:i.value.tradeType==="buy"?"primary":"ghost",size:"sm"},{default:f(()=>[...r[24]||(r[24]=[v(" 购买 ",-1)])]),_:1},8,["variant"]),m(z,{onClick:r[7]||(r[7]=t=>i.value.tradeType="sell"),variant:i.value.tradeType==="sell"?"blue":"ghost",size:"sm"},{default:f(()=>[...r[25]||(r[25]=[v(" 出售 ",-1)])]),_:1},8,["variant"])])]),e("div",yt,[m(j,{modelValue:i.value.cryptocurrency,"onUpdate:modelValue":r[8]||(r[8]=t=>i.value.cryptocurrency=t),options:ne.value,placeholder:"选择币种",size:"md",class:"w-full"},{selected:f(({option:t})=>[t&&d(k)(t.value)?(a(),y(B(d(k)(t.value)),{key:0,size:16,class:"mr-2 flex-shrink-0"})):u("",!0),e("span",wt,l(t?.label),1)]),option:f(({option:t})=>[d(k)(t.value)?(a(),y(B(d(k)(t.value)),{key:0,size:16,class:"mr-2 flex-shrink-0"})):u("",!0),e("span",kt,l(t.label),1)]),_:1},8,["modelValue","options"]),m(me,{modelValue:i.value.paymentMethod,"onUpdate:modelValue":r[9]||(r[9]=t=>i.value.paymentMethod=t),placeholder:"选择支付",categories:d(C)},null,8,["modelValue","categories"]),m(j,{modelValue:h.value,"onUpdate:modelValue":r[10]||(r[10]=t=>h.value=t),options:re.value,placeholder:"选择法币",size:"md",class:"w-full"},null,8,["modelValue","options"]),m(j,{modelValue:i.value.sortBy,"onUpdate:modelValue":r[11]||(r[11]=t=>i.value.sortBy=t),options:de,placeholder:"排序方式","default-value":"recent",size:"md",class:"w-full"},null,8,["modelValue"])])])])]),e("div",bt,[e("div",_t,[e("div",Ct,[e("label",Mt,[Me(e("input",{type:"checkbox","onUpdate:modelValue":r[12]||(r[12]=t=>i.value.onlyVerified=t),class:"w-4 h-4 sm:w-4 sm:h-4 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500 dark:focus:ring-amber-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer"},null,512),[[Le,i.value.onlyVerified]]),r[27]||(r[27]=e("svg",{class:"w-4 h-4 sm:w-4 sm:h-4 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),r[28]||(r[28]=e("span",{class:"text-xs sm:text-sm text-gray-700 dark:text-slate-200 whitespace-nowrap"},"认证商家",-1))])]),H.value?(a(),o("div",Lt,[...r[29]||(r[29]=[e("svg",{class:"animate-spin h-10 w-10 text-emerald-500 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-gray-600 dark:text-slate-400"},"正在加载广告...",-1)])])):D.value?(a(),o("div",Bt,[r[30]||(r[30]=e("svg",{class:"mx-auto h-12 w-12 text-red-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",zt,l(D.value),1),e("button",{onClick:Z,class:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors cursor-pointer"}," 重新加载 ")])):I.value.length===0?(a(),o("div",Vt,[...r[31]||(r[31]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("h3",{class:"text-lg font-medium text-gray-900 dark:text-slate-100"},"暂无广告",-1),e("p",{class:"mt-1 text-gray-500 dark:text-slate-400"},"调整筛选条件或稍后再试",-1)])])):!H.value&&!D.value&&I.value.length>0?(a(),o("div",Ut,[(a(!0),o(X,null,ee(ce.value,t=>(a(),o("div",{key:t.id,class:"bg-white dark:bg-slate-900/60 border border-gray-200 dark:border-slate-800 rounded-lg hover:border-gray-300 dark:hover:border-slate-700 transition-all group shadow-sm dark:shadow-none"},[e("div",Dt,[e("div",Tt,[e("div",St,[m(d(te),{href:`/trader/profile/${t.seller.id||t.id}`,class:"relative flex-shrink-0 cursor-pointer hover:scale-105 transition-transform"},{default:f(()=>[t.seller.avatar||t.seller.profile_photo_url?(a(),o("img",{key:0,src:t.seller.avatar||t.seller.profile_photo_url,alt:t.seller.name,class:S(["h-12 w-12 rounded-full object-cover border-2",q(t.seller.lastSeen)?"border-emerald-500":"border-gray-200 dark:border-slate-700"])},null,10,Ft)):(a(),o("div",{key:1,class:S(["h-12 w-12 rounded-full bg-gradient-to-br from-blue-600 to-blue-800 dark:from-blue-500 dark:to-blue-700 flex items-center justify-center border-2",q(t.seller.lastSeen)?"border-emerald-500":"border-gray-200 dark:border-slate-700"])},[e("span",jt,l(t.seller.name?.[0]?.toUpperCase()||"U"),1)],2))]),_:2},1032,["href"]),e("div",Pt,[e("div",Et,[m(d(te),{href:`/trader/profile/${t.seller.id||t.id}`,class:"flex items-center gap-1.5 text-base leading-snug text-gray-900 dark:text-blue-400 font-semibold truncate hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors cursor-pointer"},{default:f(()=>[t.country?(a(),o("span",{key:0,class:"inline-block w-4 h-3",innerHTML:d(fe)(t.country)},null,8,$t)):u("",!0),v(" "+l(t.seller.name||"Unknown"),1)]),_:2},1032,["href"]),t.seller.isVerified?(a(),o("div",At,[...r[32]||(r[32]=[e("div",{class:"p-0.5 bg-amber-500/20 rounded"},[e("svg",{class:"w-3.5 h-3.5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1),e("span",{class:"text-xs font-medium text-amber-500"},"已认证",-1)])])):u("",!0)]),e("div",Ht,[e("div",Rt,[e("div",It,[(a(),o(X,null,ee(5,c=>e("svg",{key:c,class:S(["w-3.5 h-3.5",c<=Math.floor(t.seller.rating)?"text-amber-500":"text-gray-300 dark:text-slate-700"]),fill:"currentColor",viewBox:"0 0 20 20"},[...r[33]||(r[33]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))]),e("span",Ot,l(t.seller.rating)+" ("+l(t.seller.totalReviews)+")",1)])]),e("div",Nt,[e("div",Zt,[r[34]||(r[34]=e("svg",{class:"w-3 h-3 text-gray-400 dark:text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",Wt,l(ie(t.seller.lastSeen)),1)]),t.country_name?(a(),o("div",qt,[r[35]||(r[35]=e("svg",{class:"w-3 h-3 text-gray-400 dark:text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("span",Gt,l(t.country_name),1)])):u("",!0)])])]),e("div",Kt,[e("div",Jt,[e("div",Yt,[e("span",Qt,l(d(U)(t.paymentMethod)?.label||t.paymentMethod),1)]),t.notes?(a(),o("div",Xt,l(t.notes),1)):u("",!0)])]),e("div",er,[e("div",tr,[t.price_model==="dynamic"?(a(),o("span",rr," 动态单价 · "+l(t.fiat_currency||"USD"),1)):(a(),o("span",sr," 固定单价 · "+l(t.fiat_currency||"USD"),1))]),e("p",lr,l(T(t.fiat_currency))+l(oe(t).toLocaleString()),1),b(t)!==null?(a(),o("div",{key:0,class:S(["text-xs mt-0.5",b(t)>0?"text-amber-500":"text-emerald-500"])},l(b(t)>0?"+":"")+l(Number(b(t)||0).toFixed(2))+"% "+l(b(t)>0?"高于":"低于")+"市场价 ",3)):u("",!0)]),e("div",ar,[e("div",or,[e("div",nr,[r[36]||(r[36]=e("span",{class:"text-xs text-gray-500 dark:text-slate-500"},"限额:",-1)),e("span",ir,l(T(t.fiat_currency))+l((t.limits?.min||0).toLocaleString())+" - "+l(T(t.fiat_currency))+l((t.limits?.max||1e4).toLocaleString()),1)]),i.value.tradeType==="buy"?(a(),y(z,{key:0,onClick:c=>W(t,"buy"),variant:"primary",size:"md",class:"group"},{default:f(()=>[e("span",dr,[v(" 购买 "+l(d(g)(t.cryptocurrency)?.label||d(P)(t.cryptocurrency))+" ",1),e("span",cr,[(a(),y(B(d(k)(t.cryptocurrency)),{size:20}))])])]),_:2},1032,["onClick"])):(a(),y(z,{key:1,onClick:c=>W(t,"sell"),variant:"blue",size:"md",class:"group"},{default:f(()=>[e("span",ur,[v(" 出售 "+l(d(g)(t.cryptocurrency)?.label||d(P)(t.cryptocurrency))+" ",1),e("span",pr,[(a(),y(B(d(k)(t.cryptocurrency)),{size:20}))])])]),_:2},1032,["onClick"]))])])])]),e("div",mr,[e("div",fr,[t.seller.isVerified?(a(),o("span",hr,[...r[37]||(r[37]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),v(" 认证商家 ",-1)])])):(a(),o("span",xr," 普通商家 ")),t.seller.responseTime?(a(),o("span",gr," < "+l(t.seller.responseTime)+"分钟 ",1)):u("",!0),e("span",vr,l(t.seller.trades)+" 笔交易 ",1),t.seller.trades>=100?(a(),o("span",yr,[...r[38]||(r[38]=[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),v(" 优质 ",-1)])])):u("",!0),t.seller.completionRate>=99?(a(),o("span",wr,[...r[39]||(r[39]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),v(" 极速 ",-1)])])):u("",!0)])])]))),128))])):u("",!0),!H.value&&!D.value&&I.value.length>0?(a(),o("div",kr,[(a(!0),o(X,null,ee(ce.value,t=>(a(),o("div",{key:t.id,class:"bg-white dark:bg-slate-900/60 border border-gray-200 dark:border-slate-800 rounded-lg"},[e("div",br,[e("div",_r,[e("div",Cr,[m(d(te),{href:`/trader/profile/${t.seller.id}`,target:"_blank",class:"flex-shrink-0"},{default:f(()=>[t.seller.profile_photo_url?(a(),o("img",{key:0,src:t.seller.profile_photo_url,alt:t.seller.name,class:S(["h-10 w-10 rounded-full object-cover cursor-pointer transition-all hover:ring-2 hover:ring-emerald-500",q(t.seller.lastSeen)?"border-2 border-emerald-500":"border-0"])},null,10,Mr)):(a(),o("div",{key:1,class:S(["h-10 w-10 rounded-full bg-gradient-to-br from-blue-600 to-blue-800 dark:from-blue-500 dark:to-blue-700 flex items-center justify-center cursor-pointer transition-all hover:ring-2 hover:ring-emerald-500",q(t.seller.lastSeen)?"border-2 border-emerald-500":"border-0"])},[e("span",Lr,l(t.seller.name?.[0]?.toUpperCase()||"U"),1)],2))]),_:2},1032,["href"]),e("div",Br,[e("div",zr,[t.country?(a(),o("span",{key:0,class:"inline-block w-4 h-3",innerHTML:d(fe)(t.country)},null,8,Vr)):u("",!0),e("p",Ur,l(t.seller.name||"Unknown"),1),t.seller.isVerified?(a(),o("svg",Dr,[...r[40]||(r[40]=[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):u("",!0)]),e("div",Tr,[e("div",Sr,[r[41]||(r[41]=e("svg",{class:"w-3 h-3 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",null,l(t.seller.rating)+" ("+l(t.seller.totalReviews)+")",1)]),r[42]||(r[42]=e("span",null,"·",-1)),e("span",null,l(ie(t.seller.lastSeen)),1),t.country_name?(a(),o("span",Fr,"·")):u("",!0),t.country_name?(a(),o("span",jr,l(t.country_name),1)):u("",!0)])])])]),e("div",Pr,[e("div",Er,[e("div",null,[e("div",$r,[t.price_model==="dynamic"?(a(),o("span",Ar,"动态价格")):(a(),o("span",Hr,"固定价格")),v(" · "+l(t.fiat_currency||"USD"),1)]),e("p",Rr,l(T(t.fiat_currency))+l(oe(t).toLocaleString()),1),b(t)!==null?(a(),o("div",{key:0,class:S(["text-xs mt-0.5",b(t)>0?"text-amber-500":"text-emerald-500"])},l(b(t)>0?"+":"")+l(Number(b(t)||0).toFixed(2))+"% "+l(b(t)>0?"高于":"低于")+"市场价 ",3)):u("",!0)]),e("div",Ir,[r[43]||(r[43]=e("div",{class:"text-xs text-gray-500 dark:text-slate-400 mb-0.5"},"限额",-1)),e("p",Or,l(T(t.fiat_currency))+l((t.limits?.min||0).toLocaleString()),1),r[44]||(r[44]=e("p",{class:"text-xs text-gray-500 dark:text-slate-400"},"-",-1)),e("p",Nr,l(T(t.fiat_currency))+l((t.limits?.max||1e4).toLocaleString()),1)])])]),e("div",Zr,[t.seller.isVerified?(a(),o("span",Wr," 认证 ")):u("",!0),t.seller.responseTime?(a(),o("span",qr," < "+l(t.seller.responseTime)+"分钟 ",1)):u("",!0),e("span",Gr,l(t.seller.trades||0)+"笔交易 ",1),t.seller.trades>=100?(a(),o("span",Kr," 优质 ")):u("",!0)]),e("div",Jr,[e("div",Yr,[e("span",Qr,l(d(U)(t.paymentMethod)?.label||t.paymentMethod),1)]),t.notes?(a(),o("div",Xr,l(t.notes),1)):u("",!0)]),e("div",e0,[i.value.tradeType==="buy"?(a(),y(z,{key:0,onClick:c=>W(t,"buy"),variant:"primary",size:"md",class:"flex-1"},{default:f(()=>[e("span",t0,[v(" 购买 "+l(d(g)(t.cryptocurrency)?.label||d(P)(t.cryptocurrency))+" ",1),e("span",r0,[(a(),y(B(d(k)(t.cryptocurrency)),{size:16}))])])]),_:2},1032,["onClick"])):(a(),y(z,{key:1,onClick:c=>W(t,"sell"),variant:"blue",size:"md",class:"flex-1"},{default:f(()=>[e("span",s0,[v(" 出售 "+l(d(g)(t.cryptocurrency)?.label||d(P)(t.cryptocurrency))+" ",1),e("span",l0,[(a(),y(B(d(k)(t.cryptocurrency)),{size:16}))])])]),_:2},1032,["onClick"]))])])]))),128))])):u("",!0),e("div",a0,[m(De,{"current-page":R.value,"onUpdate:currentPage":r[13]||(r[13]=t=>R.value=t),total:I.value.length,"per-page":Y.value},null,8,["current-page","total","per-page"])])])]),m(Te,{show:N.value,title:"交易安全提醒",subtitle:"请仔细阅读以下重要提示","icon-color":"amber","cancel-text":"取消","confirm-text":"确认了解",onClose:r[14]||(r[14]=t=>N.value=!1),onConfirm:we},{default:f(()=>[...r[45]||(r[45]=[e("div",{class:"space-y-4 text-sm"},[e("div",{class:"flex gap-2"},[e("svg",{class:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),e("div",null,[e("p",{class:"font-semibold text-gray-900 dark:text-slate-100 mb-1"}," 资金安全警告 "),e("p",{class:"text-gray-600 dark:text-slate-300"},[e("span",{class:"font-bold text-red-600 dark:text-red-400"},"切勿在资金到达托管前进行任何转账！"),v(" 请等待系统确认后再进行支付。 ")])])]),e("div",{class:"flex gap-2"},[e("svg",{class:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})]),e("div",null,[e("p",{class:"font-semibold text-gray-900 dark:text-slate-100 mb-1"}," 沟通凭证提醒 "),e("p",{class:"text-gray-600 dark:text-slate-300"}," 只有在本平台内的聊天记录才能作为交易凭证。站外沟通内容无法作为争议处理依据。 ")])]),e("div",{class:"flex gap-2"},[e("svg",{class:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("div",null,[e("p",{class:"font-semibold text-gray-900 dark:text-slate-100 mb-1"}," 交易条款确认 "),e("p",{class:"text-gray-600 dark:text-slate-300"}," 点击确认即表示您同意： "),e("ul",{class:"mt-1 space-y-1 text-gray-600 dark:text-slate-300"},[e("li",{class:"flex items-start gap-1"},[e("span",{class:"text-gray-400"},"•"),e("span",null,"遵守商家的交易条款")]),e("li",{class:"flex items-start gap-1"},[e("span",{class:"text-gray-400"},"•"),e("span",null,"在规定时间内完成交易")]),e("li",{class:"flex items-start gap-1"},[e("span",{class:"text-gray-400"},"•"),e("span",null,"使用实名账户进行支付")]),e("li",{class:"flex items-start gap-1"},[e("span",{class:"text-gray-400"},"•"),e("span",null,"诚信交易，不进行欺诈行为")])])])])],-1)])]),_:1},8,["show"]),m(Ae,{modelValue:d(J),"onUpdate:modelValue":r[15]||(r[15]=t=>Be(J)?J.value=t:null),message:d(xe),"return-url":d(ge)},null,8,["modelValue","message","return-url"])]),_:1}))}},w0=Fe(o0,[["__scopeId","data-v-5310a92d"]]);export{w0 as default};
