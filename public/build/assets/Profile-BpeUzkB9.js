import{d as c,g as w,c as C,o,w as T,b as h,a as t,i as j,m as B,f as d,t as l,F as x,k as u,j as f,n as m,h as P}from"./app-BtvJ8SCl.js";import{P as M}from"./P2PAppLayout-xdyLybWT.js";import{_ as z}from"./P2PPagination-CeqUmMoe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-slate-900 dark:to-slate-800"},N={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6"},O={class:"flex flex-col sm:flex-row items-center sm:items-start gap-4"},S=["src","alt"],V={key:1,class:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center shadow-lg"},$={class:"text-white text-xl sm:text-2xl font-bold"},D={class:"flex-1 text-center sm:text-left"},F={class:"flex flex-col sm:flex-row items-center sm:items-baseline gap-2 sm:gap-3"},U={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white"},A={class:"flex items-center gap-2"},R={class:"text-xs text-emerald-700 dark:text-emerald-400"},W={class:"flex flex-wrap items-center justify-center sm:justify-start gap-3 mt-2 text-sm"},q={key:0,class:"text-green-600 dark:text-green-400 flex items-center gap-1"},E={key:1,class:"text-gray-600 dark:text-slate-400"},H={class:"text-gray-600 dark:text-slate-400"},G={class:"hidden sm:flex items-center gap-6 text-center"},I={class:"text-2xl font-bold text-gray-900 dark:text-white"},J={class:"flex items-center gap-1"},K={class:"text-2xl font-bold text-amber-400"},Q={class:"text-2xl font-bold text-gray-900 dark:text-white"},X={class:"text-2xl font-bold text-gray-900 dark:text-white"},Y={class:"sm:hidden grid grid-cols-4 gap-2 mt-4 pt-4 border-t border-gray-300 dark:border-slate-700"},Z={class:"text-center"},tt={class:"text-base font-bold text-gray-900 dark:text-white"},et={class:"text-center"},st={class:"flex items-center justify-center gap-1"},at={class:"text-base font-bold text-amber-400"},lt={class:"text-center"},rt={class:"text-base font-bold text-gray-900 dark:text-white"},ot={class:"text-center"},dt={class:"text-base font-bold text-gray-900 dark:text-white"},nt={class:"bg-gray-50 dark:bg-slate-950 min-h-screen"},it={class:"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8"},ct={class:"bg-white dark:bg-slate-900 rounded-lg shadow-sm"},xt={class:"px-4 py-3 border-b border-gray-200 dark:border-slate-800"},ut={class:"flex items-center justify-between"},mt={class:"flex items-center gap-3"},gt={class:"px-2 py-1 bg-gray-100 dark:bg-slate-800 rounded text-sm text-gray-600 dark:text-slate-400"},vt={class:"flex items-center gap-2"},ht={class:"flex"},ft={class:"text-lg font-bold text-gray-900 dark:text-slate-100"},yt={class:"flex gap-1 px-4 py-2 border-b border-gray-200 dark:border-slate-800 overflow-x-auto"},pt=["onClick"],bt={class:"ml-1 text-xs opacity-75"},kt={class:"divide-y divide-gray-200 dark:divide-slate-800"},_t={key:0,class:"p-8 text-center"},wt={class:"flex items-start gap-3"},Ct={class:"flex-shrink-0"},Tt={class:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center"},jt={class:"text-white text-sm font-medium"},Bt={class:"flex-1 min-w-0"},Pt={class:"flex items-start justify-between gap-2"},Mt={class:"flex items-center gap-2"},zt={class:"text-sm font-medium text-gray-900 dark:text-slate-100"},Lt={class:"text-xs text-gray-500 dark:text-slate-500"},Nt={class:"flex items-center gap-1 mt-1"},Ot={class:"text-xs text-gray-600 dark:text-slate-400 ml-1"},St={class:"mt-2 text-sm text-gray-700 dark:text-slate-300 line-clamp-2"},Vt={class:"px-4 py-3 border-t border-gray-200 dark:border-slate-800"},Rt={__name:"Profile",props:{user:{type:Object,required:!0},reviews:{type:Array,default:()=>[]},reviewsPagination:{type:Object,default:()=>({current_page:1,last_page:1,per_page:10,total:0})},ratingStats:{type:Object,default:()=>({})},isOwnProfile:{type:Boolean,default:!1}},setup(a){const n=a,y=c(()=>[{type:"email",label:"邮箱验证",verified:n.user.is_verified},{type:"2fa",label:"双重验证",verified:n.user.has_2fa},{type:"merchant",label:"商家验证",verified:n.user.totalTrades>10}]),g=w("all"),p=c(()=>{const r=n.ratingStats,e=(r[5]||0)+(r[4]||0),s=r[3]||0,i=(r[2]||0)+(r[1]||0);return[{value:"all",label:"全部",count:n.user.totalReviews||0},{value:"positive",label:"好评",count:e},{value:"neutral",label:"中评",count:s},{value:"negative",label:"差评",count:i}]}),v=c(()=>n.reviews.map(r=>({id:r.id,userName:r.is_anonymous?"匿名用户":r.reviewer?.name||"用户",avatar:r.is_anonymous?"https://ui-avatars.com/api/?name=匿名&color=6b7280&background=e5e7eb":`https://ui-avatars.com/api/?name=${r.reviewer?.name||"User"}&color=10b981&background=d1fae5`,rating:r.rating,date:new Date(r.created_at).toLocaleDateString("zh-CN"),comment:r.comment||"用户未留言",tradeType:r.trade_type==="buy"?"客户购买":"客户出售",cryptoCurrency:r.currency_key||r.crypto_currency}))),b=c(()=>n.reviewsPagination.current_page),k=c(()=>n.reviewsPagination.last_page),_=r=>{window.location.href=`${window.location.pathname}?page=${r}`};return(r,e)=>(o(),C(M,null,{default:T(()=>[h(j(B),{title:a.user.name},null,8,["title"]),t("div",L,[t("div",N,[t("div",O,[a.user.profile_photo_url?(o(),d("img",{key:0,src:a.user.profile_photo_url,alt:a.user.name,class:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover shadow-lg border-2 border-white dark:border-slate-800"},null,8,S)):(o(),d("div",V,[t("span",$,l(a.user.name[0].toUpperCase()),1)])),t("div",D,[t("div",F,[t("h1",U,l(a.user.name),1),t("div",A,[(o(!0),d(x,null,u(y.value.filter(s=>s.verified),s=>(o(),d("div",{key:s.type,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-100 dark:bg-emerald-500/20 border border-emerald-300 dark:border-emerald-500/30 rounded-full"},[e[0]||(e[0]=t("svg",{class:"w-3 h-3 text-emerald-600 dark:text-emerald-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),t("span",R,l(s.label),1)]))),128))])]),t("div",W,[a.user.online?(o(),d("span",q,[...e[1]||(e[1]=[t("div",{class:"w-2 h-2 bg-green-600 dark:bg-green-400 rounded-full animate-pulse"},null,-1),f(" 在线 ",-1)])])):(o(),d("span",E," 离线 · "+l(a.user.lastOnline),1)),t("span",H,"注册于 "+l(a.user.memberSince),1)])]),t("div",G,[t("div",null,[t("div",I,l(a.user.completedTrades),1),e[2]||(e[2]=t("div",{class:"text-xs text-gray-600 dark:text-slate-400"},"成功交易",-1))]),t("div",null,[t("div",J,[t("span",K,l(a.user.rating),1),e[3]||(e[3]=t("svg",{class:"w-5 h-5 text-amber-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1))]),e[4]||(e[4]=t("div",{class:"text-xs text-gray-600 dark:text-slate-400"},"用户评分",-1))]),t("div",null,[t("div",Q,l(a.user.usersTradedWith),1),e[5]||(e[5]=t("div",{class:"text-xs text-gray-600 dark:text-slate-400"},"交易伙伴",-1))]),t("div",null,[t("div",X,l(a.user.responseTime?"< "+a.user.responseTime+"分钟":"暂无"),1),e[6]||(e[6]=t("div",{class:"text-xs text-gray-600 dark:text-slate-400"},"响应时间",-1))])])]),t("div",Y,[t("div",Z,[t("div",tt,l(a.user.completedTrades),1),e[7]||(e[7]=t("div",{class:"text-xs text-gray-600 dark:text-slate-400"},"交易",-1))]),t("div",et,[t("div",st,[t("span",at,l(a.user.rating),1),e[8]||(e[8]=t("svg",{class:"w-3 h-3 text-amber-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1))]),e[9]||(e[9]=t("div",{class:"text-xs text-gray-600 dark:text-slate-400"},"评分",-1))]),t("div",lt,[t("div",rt,l(a.user.usersTradedWith),1),e[10]||(e[10]=t("div",{class:"text-xs text-gray-600 dark:text-slate-400"},"伙伴",-1))]),t("div",ot,[t("div",dt,l(a.user.responseTime?"< "+a.user.responseTime+"分":"暂无"),1),e[11]||(e[11]=t("div",{class:"text-xs text-gray-600 dark:text-slate-400"},"响应",-1))])])])]),t("div",nt,[t("div",it,[t("div",ct,[t("div",xt,[t("div",ut,[t("div",mt,[e[12]||(e[12]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-slate-100"},"用户评价",-1)),t("span",gt,l(a.user.totalReviews)+" 条 ",1)]),t("div",vt,[t("div",ht,[(o(),d(x,null,u(5,s=>t("svg",{key:s,class:m(["w-4 h-4",s<=Math.floor(a.user.rating)?"text-amber-400":"text-gray-300 dark:text-slate-700"]),fill:"currentColor",viewBox:"0 0 20 20"},[...e[13]||(e[13]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))]),t("span",ft,l(a.user.rating),1)])])]),t("div",yt,[(o(!0),d(x,null,u(p.value,s=>(o(),d("button",{key:s.value,onClick:i=>g.value=s.value,class:m(["px-3 py-1.5 text-sm font-medium rounded-md transition-colors whitespace-nowrap",g.value===s.value?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"])},[f(l(s.label)+" ",1),t("span",bt,"("+l(s.count)+")",1)],10,pt))),128))]),t("div",kt,[v.value.length===0?(o(),d("div",_t,[...e[14]||(e[14]=[t("svg",{class:"w-12 h-12 mx-auto text-gray-400 dark:text-slate-600 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})],-1),t("p",{class:"text-gray-500 dark:text-slate-400"},"暂无评价",-1)])])):P("",!0),(o(!0),d(x,null,u(v.value,s=>(o(),d("div",{key:s.id,class:"p-4 hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors"},[t("div",wt,[t("div",Ct,[t("div",Tt,[t("span",jt,l(s.userName[0].toUpperCase()),1)])]),t("div",Bt,[t("div",Pt,[t("div",null,[t("div",Mt,[t("p",zt,l(s.userName),1),t("span",Lt,l(s.date),1)]),t("div",Nt,[(o(),d(x,null,u(5,i=>t("svg",{key:i,class:m(["w-3.5 h-3.5",i<=s.rating?"text-amber-400":"text-gray-300 dark:text-slate-700"]),fill:"currentColor",viewBox:"0 0 20 20"},[...e[15]||(e[15]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64)),t("span",Ot,l(s.tradeType)+" "+l(s.cryptoCurrency),1)])])]),t("p",St,l(s.comment),1)])])]))),128))]),t("div",Vt,[h(z,{"current-page":b.value,"total-pages":k.value,onPageChanged:_},null,8,["current-page","total-pages"])])])])])]),_:1}))}};export{Rt as default};
