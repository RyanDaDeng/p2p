import{d as r,g as i,J as p}from"./app-DdK31xcW.js";const n=i(null),c=i(!1),s=i(null);function P(){const d=async(e={})=>{if(n.value&&!e.force)return n.value;c.value=!0,s.value=null;try{const t=await p.get("/web/api/config");return n.value=t.data.data,n.value}catch(t){throw s.value=t.message,console.error("Failed to fetch config:",t),t}finally{c.value=!1}},o=r(()=>n.value?.cryptocurrencies||[]),a=r(()=>n.value?.payment_methods||[]),u=r(()=>n.value?.fiat_currencies||[]),l=r(()=>n.value?.countries||[]),v=e=>o.value.find(t=>t.key===e),y=e=>{for(const t of a.value){const g=t.methods?.find(f=>f.value===e);if(g)return g}return null};return{configData:n,loading:c,error:s,fetchConfig:d,cryptocurrencies:o,paymentMethods:a,fiatCurrencies:u,countries:l,getCryptocurrencyByKey:v,getPaymentMethodByValue:y,getPaymentMethodDetails:e=>y(e),getFiatCurrencyByCode:e=>u.value.find(t=>t.code===e),getCountryByCode:e=>l.value.find(t=>t.code===e),getCryptocurrencyOptions:()=>o.value.map(e=>({value:e.key,label:`${e.currency} (${e.network})`})),getPaymentMethodOptions:()=>a.value.map(e=>{const t={value:e.value,label:e.label,icon:e.icon};return e.badge&&(t.badge=e.badge),t}),getFiatCurrencyOptions:()=>u.value.map(e=>({value:e.code,label:e.label,symbol:e.symbol})),getCountryOptions:()=>l.value.map(e=>({value:e.code,label:`${e.code} - ${e.name}`}))}}export{P as u};
