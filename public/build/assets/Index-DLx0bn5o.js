import{g as p,I as E,h as G,d as J,c as W,o as l,w as M,b as n,a as e,j,p as X,t as a,f as r,F as b,l as k,n as x,i as m,k as _,e as I,x as F,L as O,y as R,K as Y}from"./app-Cn0yrUGB.js";import{P as Z}from"./P2PAppLayout-C36x6ifd.js";import{P as g}from"./P2PSelect-2fDWqDq_.js";import{_ as A}from"./P2PPagination-BbKyesDw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const ee={class:"bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-800"},te={class:"mx-auto max-w-7xl px-4 py-3 sm:py-4 sm:px-6 lg:px-8"},se={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-4 mb-3 sm:mb-4"},ae={class:"flex items-center gap-2 sm:gap-3"},le={class:"text-center"},re={class:"text-xl sm:text-2xl font-bold text-emerald-600 dark:text-emerald-500"},oe={class:"text-center"},de={class:"text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-500"},ne={class:"text-center"},ie={class:"text-xl sm:text-2xl font-bold text-gray-600 dark:text-slate-400"},ue={class:"hidden sm:flex flex-wrap items-center gap-2"},ce={class:"flex items-center bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5"},pe=["onClick"],xe={class:"flex items-center gap-1.5"},me={class:"ml-auto"},ge={class:"relative"},_e={class:"sm:hidden space-y-2"},ve={class:"overflow-x-auto"},ye={class:"flex items-center bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 w-fit"},fe=["onClick"],he={class:"flex items-center gap-1.5"},be={class:"grid grid-cols-2 gap-1.5"},ke={class:"relative"},we={class:"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8"},Ce={class:"hidden sm:block bg-white dark:bg-slate-900 rounded-lg shadow-sm overflow-hidden"},Ve={key:0,class:"flex items-center justify-center p-8"},Me={key:1,class:"text-center py-12"},je={key:2,class:"overflow-x-auto"},Ue={class:"min-w-full divide-y divide-gray-200 dark:divide-slate-800"},$e={class:"divide-y divide-gray-200 dark:divide-slate-800"},ze={class:"px-4 py-3"},Se={class:"flex items-center gap-2"},Be={class:"text-sm font-medium text-gray-900 dark:text-slate-100"},Te={class:"flex items-center gap-1 text-xs text-gray-500 dark:text-slate-400 mt-1"},Pe={class:"px-4 py-3"},De={key:0},Le={key:1,class:"flex items-center gap-2"},Ne=["href"],He=["src","alt"],Ee={key:1,class:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-600 to-blue-800 dark:from-blue-500 dark:to-blue-700 flex items-center justify-center hover:ring-2 hover:ring-blue-500 transition-all"},Ie={class:"text-white font-bold text-xs"},Fe=["href"],Oe={class:"px-4 py-3"},Re={key:0},Ae={key:1,class:"flex items-center gap-2"},Ke=["href"],Qe=["src","alt"],qe={key:1,class:"h-8 w-8 rounded-full bg-gradient-to-br from-emerald-600 to-emerald-800 dark:from-emerald-500 dark:to-emerald-700 flex items-center justify-center hover:ring-2 hover:ring-emerald-500 transition-all"},Ge={class:"text-white font-bold text-xs"},Je=["href"],We={class:"px-4 py-3"},Xe={class:"text-sm font-semibold text-gray-900 dark:text-slate-100"},Ye={class:"text-xs text-gray-500 dark:text-slate-400"},Ze={class:"px-4 py-3"},et={class:"flex items-center gap-2"},tt={class:"mt-1"},st={class:"w-24 bg-gray-200 dark:bg-slate-700 rounded-full h-1.5"},at={class:"text-xs text-gray-500 dark:text-slate-400 mt-1"},lt={class:"px-4 py-3"},rt={class:"px-4 py-3 border-t border-gray-200 dark:border-slate-800"},ot={class:"sm:hidden"},dt={key:0,class:"flex items-center justify-center p-8"},nt={key:1,class:"text-center py-12 bg-white dark:bg-slate-900 rounded-lg"},it={key:2,class:"space-y-3"},ut={class:"bg-gray-50 dark:bg-slate-800/50 px-3 py-2 border-b border-gray-200 dark:border-slate-800"},ct={class:"flex items-center justify-between"},pt={class:"flex items-center gap-2"},xt={class:"text-xs font-bold text-gray-900 dark:text-slate-100"},mt={class:"flex items-center gap-1 mt-1"},gt={class:"text-xs text-gray-500 dark:text-slate-400"},_t={class:"p-3 space-y-3"},vt={class:"grid grid-cols-2 gap-3"},yt={class:"space-y-1"},ft={key:0},ht={key:1,class:"flex items-center gap-1.5"},bt=["href"],kt=["src","alt"],wt={key:1,class:"h-6 w-6 rounded-full bg-gradient-to-br from-blue-600 to-blue-800 dark:from-blue-500 dark:to-blue-700 flex items-center justify-center hover:ring-2 hover:ring-blue-500 transition-all"},Ct={class:"text-white font-bold text-xs"},Vt=["href"],Mt={class:"space-y-1"},jt={key:0},Ut={key:1,class:"flex items-center gap-1.5"},$t=["href"],zt=["src","alt"],St={key:1,class:"h-6 w-6 rounded-full bg-gradient-to-br from-emerald-600 to-emerald-800 dark:from-emerald-500 dark:to-emerald-700 flex items-center justify-center hover:ring-2 hover:ring-emerald-500 transition-all"},Bt={class:"text-white font-bold text-xs"},Tt=["href"],Pt={class:"bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-2.5"},Dt={class:"flex items-center justify-between"},Lt={class:"text-sm font-bold text-gray-900 dark:text-slate-100 mt-0.5"},Nt={class:"text-right"},Ht={class:"text-sm font-bold text-gray-900 dark:text-slate-100 mt-0.5"},Et={class:"flex items-center justify-between mb-1.5"},It={class:"text-xs font-medium text-emerald-600 dark:text-emerald-400"},Ft={class:"w-full bg-gray-200 dark:bg-slate-700 rounded-full h-1.5"},Ot={class:"text-xs text-gray-500 dark:text-slate-400 mt-1"},Rt={class:"mt-4"},Xt={__name:"Index",setup(At){const i=p([]),v=p(!1),u=p({current_page:1,last_page:1,per_page:20,total:0}),o=p({status:"all",trade_type:"all",cryptocurrency:"all",time_range:"7days"}),c=p(""),U=p(null),$=[{value:"all",label:"全部"},{value:"trading",label:"交易中",dotColor:"bg-blue-500"},{value:"completed",label:"已完成",dotColor:"bg-emerald-500"},{value:"cancelled",label:"已取消",dotColor:"bg-gray-500"},{value:"disputed",label:"争议中",dotColor:"bg-red-500"}],z=[{value:"all",label:"全部类型"},{value:"buy",label:"我买入"},{value:"sell",label:"我卖出"}],S=[{value:"all",label:"全部币种"},{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"USDT",label:"USDT"}],B=[{value:"24hours",label:"24小时"},{value:"7days",label:"7天"},{value:"30days",label:"30天"},{value:"3months",label:"3个月"},{value:"all",label:"全部时间"}],y=async(d=1)=>{v.value=!0;try{const s={page:d,per_page:20};o.value.status!=="all"&&(o.value.status==="disputed"?s.status="disputed":s.status=o.value.status),o.value.trade_type!=="all"&&(s.trade_type=o.value.trade_type),o.value.cryptocurrency!=="all"&&(s.cryptocurrency=o.value.cryptocurrency),o.value.time_range!=="all"&&(s.time_range=o.value.time_range),c.value&&(s.search=c.value);const t=await Y.get("/web/api/orders",{params:s});t.data.success&&(i.value=t.data.data.data||[],u.value={current_page:t.data.data.current_page||1,last_page:t.data.data.last_page||1,per_page:t.data.data.per_page||20,total:t.data.data.total||0})}catch(s){console.error("获取订单失败:",s)}finally{v.value=!1}};E([o],()=>{y(1)},{deep:!0}),E(c,d=>{clearTimeout(U.value),U.value=setTimeout(()=>{y(1)},500)}),G(()=>{y()});const w=J(()=>{const d=i.value.filter(t=>t.status==="trading").length,s=i.value.filter(t=>t.status==="completed").length;return{active:d,completed:s,total:u.value.total||i.value.length}}),f=d=>{const s=window.Laravel?.user?.id;return s?d.buyer_id===s?"buyer":"seller":null},C=d=>({order_initiated:10,vendor_confirmed:20,seller_paid:30,escrow_received:50,buyer_confirmed_escrow:60,buyer_paid:80,seller_received:90,escrow_released:100,cancelled:0})[d.escrow_status]||0,T=d=>{if(!d)return"";const s=new Date(d),h=new Date-s,V=Math.floor(h/(1e3*60*60));if(V<1)return`${Math.floor(h/6e4)}分钟前`;if(V<24)return`${V}小时前`;{const H=(s.getMonth()+1).toString().padStart(2,"0"),K=s.getDate().toString().padStart(2,"0"),Q=s.getHours().toString().padStart(2,"0"),q=s.getMinutes().toString().padStart(2,"0");return`${H}/${K} ${Q}:${q}`}},P=d=>d.is_disputed?"争议中":{trading:"交易中",completed:"已完成",cancelled:"已取消"}[d.status]||d.status,D=d=>({order_initiated:"订单创建",vendor_confirmed:"商家已确认",seller_paid:"卖家已转币",escrow_received:"托管已到账",buyer_confirmed_escrow:"买家已确认托管",buyer_paid:"买家已付款",seller_received:"卖家已收款",escrow_released:"托管已释放",cancelled:"已取消"})[d]||d,L=d=>d.is_disputed?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":{trading:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",completed:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",cancelled:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}[d.status]||"bg-gray-100 text-gray-700",N=d=>{y(d)};return(d,s)=>(l(),W(Z,null,{default:M(()=>[n(j(X),{title:"订单"}),e("div",ee,[e("div",te,[e("div",se,[s[13]||(s[13]=e("div",null,[e("h1",{class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-slate-100"},"我的订单"),e("p",{class:"hidden sm:block text-sm text-gray-500 dark:text-slate-400 mt-1"},"管理和跟踪您的所有交易订单")],-1)),e("div",ae,[e("div",le,[e("p",re,a(w.value.active),1),s[8]||(s[8]=e("p",{class:"text-xs text-gray-500 dark:text-slate-400"},"进行中",-1))]),s[11]||(s[11]=e("div",{class:"h-6 sm:h-8 w-px bg-gray-200 dark:bg-slate-700"},null,-1)),e("div",oe,[e("p",de,a(w.value.completed),1),s[9]||(s[9]=e("p",{class:"text-xs text-gray-500 dark:text-slate-400"},"已完成",-1))]),s[12]||(s[12]=e("div",{class:"h-6 sm:h-8 w-px bg-gray-200 dark:bg-slate-700"},null,-1)),e("div",ne,[e("p",ie,a(w.value.total),1),s[10]||(s[10]=e("p",{class:"text-xs text-gray-500 dark:text-slate-400"},"总订单",-1))])])]),e("div",ue,[e("div",ce,[(l(),r(b,null,k($,t=>e("button",{key:t.value,onClick:h=>o.value.status=t.value,class:x(["px-3 py-1.5 text-xs font-medium rounded-md transition-all whitespace-nowrap cursor-pointer",o.value.status===t.value?"bg-white dark:bg-slate-700 text-emerald-600 dark:text-emerald-400 shadow-sm":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200"])},[e("span",xe,[t.value!=="all"?(l(),r("div",{key:0,class:x(["h-2 w-2 rounded-full",t.dotColor])},null,2)):m("",!0),_(" "+a(t.label),1)])],10,pe)),64))]),n(g,{modelValue:o.value.trade_type,"onUpdate:modelValue":s[0]||(s[0]=t=>o.value.trade_type=t),options:z,placeholder:"交易类型",size:"sm",class:"w-32"},null,8,["modelValue"]),n(g,{modelValue:o.value.cryptocurrency,"onUpdate:modelValue":s[1]||(s[1]=t=>o.value.cryptocurrency=t),options:S,placeholder:"币种",size:"sm",class:"w-32"},null,8,["modelValue"]),n(g,{modelValue:o.value.time_range,"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.time_range=t),options:B,placeholder:"时间范围",size:"sm",class:"w-32"},null,8,["modelValue"]),e("div",me,[e("div",ge,[I(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>c.value=t),type:"text",placeholder:"搜索订单号或用户名...",class:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-emerald-500"},null,512),[[F,c.value]]),s[14]||(s[14]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])]),e("div",_e,[e("div",ve,[e("div",ye,[(l(),r(b,null,k($,t=>e("button",{key:t.value,onClick:h=>o.value.status=t.value,class:x(["px-3 py-1.5 text-xs font-medium rounded-md transition-all whitespace-nowrap cursor-pointer",o.value.status===t.value?"bg-white dark:bg-slate-700 text-emerald-600 dark:text-emerald-400 shadow-sm":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200"])},[e("span",he,[t.value!=="all"?(l(),r("div",{key:0,class:x(["h-1.5 w-1.5 rounded-full",t.dotColor])},null,2)):m("",!0),_(" "+a(t.label),1)])],10,fe)),64))])]),e("div",be,[n(g,{modelValue:o.value.trade_type,"onUpdate:modelValue":s[4]||(s[4]=t=>o.value.trade_type=t),options:z,placeholder:"类型",size:"sm",class:"w-full"},null,8,["modelValue"]),n(g,{modelValue:o.value.cryptocurrency,"onUpdate:modelValue":s[5]||(s[5]=t=>o.value.cryptocurrency=t),options:S,placeholder:"币种",size:"sm",class:"w-full"},null,8,["modelValue"]),n(g,{modelValue:o.value.time_range,"onUpdate:modelValue":s[6]||(s[6]=t=>o.value.time_range=t),options:B,placeholder:"时间",size:"sm",class:"w-full"},null,8,["modelValue"]),e("div",ke,[I(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>c.value=t),type:"text",placeholder:"搜索...",class:"w-full pl-8 pr-2 py-1.5 text-xs border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 focus:outline-none focus:ring-1 focus:ring-emerald-500"},null,512),[[F,c.value]]),s[15]||(s[15]=e("svg",{class:"absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])])])]),e("div",we,[e("div",Ce,[v.value?(l(),r("div",Ve,[...s[16]||(s[16]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"},null,-1)])])):i.value.length===0?(l(),r("div",Me,[...s[17]||(s[17]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-4 text-sm text-gray-500 dark:text-slate-400"},"暂无订单记录",-1)])])):(l(),r("div",je,[e("table",Ue,[s[22]||(s[22]=e("thead",{class:"bg-gray-50 dark:bg-slate-800"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider"},"订单信息"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider"},"买家"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider"},"卖家"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider"},"金额"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider"},"状态"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider"},"操作")])],-1)),e("tbody",$e,[(l(!0),r(b,null,k(i.value,t=>(l(),r("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors"},[e("td",ze,[e("div",null,[e("div",Se,[e("span",Be,"#"+a(t.order_no),1)]),e("div",Te,[s[18]||(s[18]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),_(" "+a(T(t.created_at)),1)])])]),e("td",Pe,[f(t)==="buyer"?(l(),r("div",De,[...s[19]||(s[19]=[e("p",{class:"text-sm font-medium text-gray-900 dark:text-slate-100"},"我",-1),e("p",{class:"text-xs text-gray-500 dark:text-slate-400"},"当前用户",-1)])])):t.buyer?(l(),r("div",Le,[e("a",{href:`/trader/profile/${t.buyer.id}`,target:"_blank",class:"cursor-pointer"},[t.buyer.profile_photo_url?(l(),r("img",{key:0,src:t.buyer.profile_photo_url,alt:t.buyer.name,class:"h-8 w-8 rounded-full object-cover hover:ring-2 hover:ring-blue-500 transition-all"},null,8,He)):(l(),r("div",Ee,[e("span",Ie,a((t.buyer.name||"U")[0].toUpperCase()),1)]))],8,Ne),e("div",null,[e("a",{href:`/trader/profile/${t.buyer.id}`,target:"_blank",class:"text-sm font-medium text-gray-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer"},a(t.buyer.name),9,Fe)])])):m("",!0)]),e("td",Oe,[f(t)==="seller"?(l(),r("div",Re,[...s[20]||(s[20]=[e("p",{class:"text-sm font-medium text-gray-900 dark:text-slate-100"},"我",-1),e("p",{class:"text-xs text-gray-500 dark:text-slate-400"},"当前用户",-1)])])):t.seller?(l(),r("div",Ae,[e("a",{href:`/trader/profile/${t.seller.id}`,target:"_blank",class:"cursor-pointer"},[t.seller.profile_photo_url?(l(),r("img",{key:0,src:t.seller.profile_photo_url,alt:t.seller.name,class:"h-8 w-8 rounded-full object-cover hover:ring-2 hover:ring-emerald-500 transition-all"},null,8,Qe)):(l(),r("div",qe,[e("span",Ge,a((t.seller.name||"U")[0].toUpperCase()),1)]))],8,Ke),e("div",null,[e("a",{href:`/trader/profile/${t.seller.id}`,target:"_blank",class:"text-sm font-medium text-gray-900 dark:text-slate-100 hover:text-emerald-600 dark:hover:text-emerald-400 cursor-pointer"},a(t.seller.name),9,Je)])])):m("",!0)]),e("td",We,[e("div",null,[e("p",Xe,a(t.crypto_amount)+" "+a(t.currency_label||t.currency_key||t.crypto_currency),1),e("p",Ye," ≈ "+a(t.fiat_currency_symbol||"¥")+a((t.fiat_amount||0).toLocaleString())+" "+a(t.fiat_currency),1)])]),e("td",Ze,[e("div",null,[e("div",et,[e("span",{class:x(["inline-flex items-center px-2 py-1 rounded text-xs font-medium",L(t)])},a(P(t)),3)]),e("div",tt,[e("div",st,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-1.5 rounded-full transition-all",style:O(`width: ${C(t)}%`)},null,4)])]),e("p",at,a(D(t.escrow_status)),1)])]),e("td",lt,[n(j(R),{href:`/trade/${t.order_no}/chat`,class:"inline-flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors cursor-pointer"},{default:M(()=>[...s[21]||(s[21]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),_(" 查看详情 ",-1)])]),_:1},8,["href"])])]))),128))])])])),e("div",rt,[n(A,{"current-page":u.value.current_page,total:u.value.total,"per-page":u.value.per_page,"onUpdate:currentPage":N},null,8,["current-page","total","per-page"])])]),e("div",ot,[v.value?(l(),r("div",dt,[...s[23]||(s[23]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"},null,-1)])])):i.value.length===0?(l(),r("div",nt,[...s[24]||(s[24]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-4 text-sm text-gray-500 dark:text-slate-400"},"暂无订单记录",-1)])])):(l(),r("div",it,[(l(!0),r(b,null,k(i.value,t=>(l(),r("div",{key:t.id,class:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-800 overflow-hidden"},[e("div",ut,[e("div",ct,[e("div",pt,[s[25]||(s[25]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-slate-400"},"订单号:",-1)),e("span",xt,"#"+a(t.order_no),1)]),e("span",{class:x(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",L(t)])},a(P(t)),3)]),e("div",mt,[s[26]||(s[26]=e("svg",{class:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",gt,a(T(t.created_at)),1)])]),e("div",_t,[e("div",vt,[e("div",yt,[s[28]||(s[28]=e("p",{class:"text-xs text-gray-500 dark:text-slate-400 font-medium"},"买家",-1)),f(t)==="buyer"?(l(),r("div",ft,[...s[27]||(s[27]=[e("p",{class:"text-sm font-medium text-emerald-600 dark:text-emerald-400"},"我",-1),e("p",{class:"text-xs text-gray-500 dark:text-slate-400"},"当前用户",-1)])])):t.buyer?(l(),r("div",ht,[e("a",{href:`/trader/profile/${t.buyer.id}`,target:"_blank",class:"cursor-pointer"},[t.buyer.profile_photo_url?(l(),r("img",{key:0,src:t.buyer.profile_photo_url,alt:t.buyer.name,class:"h-6 w-6 rounded-full object-cover hover:ring-2 hover:ring-blue-500 transition-all"},null,8,kt)):(l(),r("div",wt,[e("span",Ct,a((t.buyer.name||"U")[0].toUpperCase()),1)]))],8,bt),e("a",{href:`/trader/profile/${t.buyer.id}`,target:"_blank",class:"text-sm font-medium text-gray-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 truncate cursor-pointer"},a(t.buyer.name),9,Vt)])):m("",!0)]),e("div",Mt,[s[30]||(s[30]=e("p",{class:"text-xs text-gray-500 dark:text-slate-400 font-medium"},"卖家",-1)),f(t)==="seller"?(l(),r("div",jt,[...s[29]||(s[29]=[e("p",{class:"text-sm font-medium text-emerald-600 dark:text-emerald-400"},"我",-1),e("p",{class:"text-xs text-gray-500 dark:text-slate-400"},"当前用户",-1)])])):t.seller?(l(),r("div",Ut,[e("a",{href:`/trader/profile/${t.seller.id}`,target:"_blank",class:"cursor-pointer"},[t.seller.profile_photo_url?(l(),r("img",{key:0,src:t.seller.profile_photo_url,alt:t.seller.name,class:"h-6 w-6 rounded-full object-cover hover:ring-2 hover:ring-emerald-500 transition-all"},null,8,zt)):(l(),r("div",St,[e("span",Bt,a((t.seller.name||"U")[0].toUpperCase()),1)]))],8,$t),e("a",{href:`/trader/profile/${t.seller.id}`,target:"_blank",class:"text-sm font-medium text-gray-900 dark:text-slate-100 hover:text-emerald-600 dark:hover:text-emerald-400 truncate cursor-pointer"},a(t.seller.name),9,Tt)])):m("",!0)])]),e("div",Pt,[e("div",Dt,[e("div",null,[s[31]||(s[31]=e("p",{class:"text-xs text-gray-600 dark:text-slate-400"},"交易金额",-1)),e("p",Lt,a(t.crypto_amount)+" "+a(t.currency_label||t.currency_key||t.crypto_currency),1)]),e("div",Nt,[s[32]||(s[32]=e("p",{class:"text-xs text-gray-600 dark:text-slate-400"},"法币金额",-1)),e("p",Ht,a(t.fiat_currency_symbol||"¥")+a((t.fiat_amount||0).toLocaleString())+" "+a(t.fiat_currency),1)])])]),e("div",null,[e("div",Et,[s[33]||(s[33]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-slate-400"},"托管状态",-1)),e("span",It,a(C(t))+"%",1)]),e("div",Ft,[e("div",{class:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-1.5 rounded-full transition-all",style:O(`width: ${C(t)}%`)},null,4)]),e("p",Ot,a(D(t.escrow_status)),1)]),n(j(R),{href:`/trade/${t.order_no}/chat`,class:"w-full inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-500 dark:hover:bg-emerald-600 rounded-lg transition-colors cursor-pointer"},{default:M(()=>[...s[34]||(s[34]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),_(" 查看详情 ",-1)])]),_:1},8,["href"])])]))),128)),e("div",Rt,[n(A,{"current-page":u.value.current_page,total:u.value.total,"per-page":u.value.per_page,"onUpdate:currentPage":N},null,8,["current-page","total","per-page"])])]))])])]),_:1}))}};export{Xt as default};
