import{d as L,e as U,v as W,f as i,o as l,c as D,w as s,a as t,r as k,u as h,g as $,b as r,h as b,i as m,j as d,n as w,F as C,k as A,t as _}from"./app-BTEwQpNG.js";import{_ as E}from"./ActionMessage-tgJ4bO5i.js";import{_ as H}from"./ActionSection-DqCJNX9R.js";import{_ as F}from"./Modal-K-ccp00H.js";import{_ as Y}from"./FormSection-BekDbMr6.js";import{_ as q}from"./InputError-0djl3RfK.js";import{_ as S}from"./InputLabel-DXbYEfyi.js";import{_ as T}from"./PrimaryButton-DRRcMehc.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as J}from"./TextInput-Bc_Z52M0.js";import"./SectionTitle-2NkGAMCA.js";const K=["value"],B={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(o,{emit:c}){const a=c,p=o,u=L({get(){return p.checked},set(f){a("update:checked",f)}});return(f,g)=>U((l(),i("input",{"onUpdate:modelValue":g[0]||(g[0]=y=>u.value=y),type:"checkbox",value:o.value,class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800"},null,8,K)),[[W,u.value]])}},O={class:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Q={class:"sm:flex sm:items-start"},R={class:"mt-3 text-center sm:mt-0 sm:ms-4 sm:text-start"},X={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},Z={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},ee={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 dark:bg-gray-800 text-end"},te={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:c}){const a=c,p=()=>{a("close")};return(u,f)=>(l(),D(F,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:p},{default:s(()=>[t("div",O,[t("div",Q,[f[0]||(f[0]=t("div",{class:"mx-auto shrink-0 flex items-center justify-center size-12 rounded-full bg-red-100 sm:mx-0 sm:size-10"},[t("svg",{class:"size-6 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])],-1)),t("div",R,[t("h3",X,[k(u.$slots,"title")]),t("div",Z,[k(u.$slots,"content")])])])]),t("div",ee,[k(u.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},se=["type"],oe={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(o){return(c,a)=>(l(),i("button",{type:o.type,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},[k(c.$slots,"default")],8,se))}},ne={class:"px-6 py-4"},re={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},ae={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},le={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 dark:bg-gray-800 text-end"},j={__name:"DialogModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:c}){const a=c,p=()=>{a("close")};return(u,f)=>(l(),D(F,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:p},{default:s(()=>[t("div",ne,[t("div",re,[k(u.$slots,"title")]),t("div",ae,[k(u.$slots,"content")])]),t("div",le,[k(u.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},ie=["type"],P={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(o){return(c,a)=>(l(),i("button",{type:o.type,class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-25 transition ease-in-out duration-150"},[k(c.$slots,"default")],8,ie))}},de={},ue={class:"hidden sm:block"};function me(o,c){return l(),i("div",ue,[...c[0]||(c[0]=[t("div",{class:"py-8"},[t("div",{class:"border-t border-gray-200 dark:border-gray-700"})],-1)])])}const ce=G(de,[["render",me]]),pe={class:"col-span-6 sm:col-span-4"},fe={key:0,class:"col-span-6"},ge={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},ye={class:"flex items-center"},ke={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},ve={key:0},xe={class:"mt-10 sm:mt-0"},be={class:"space-y-6"},_e={class:"break-all dark:text-white"},he={class:"flex items-center ms-2"},$e={key:0,class:"text-sm text-gray-400"},we=["onClick"],Ce=["onClick"],Ae={key:0,class:"mt-4 bg-gray-100 dark:bg-gray-900 px-4 py-2 rounded font-mono text-sm text-gray-500 break-all"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Se={class:"flex items-center"},Te={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},We={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(o){const a=h({name:"",permissions:o.defaultPermissions}),p=h({permissions:[]}),u=h({}),f=$(!1),g=$(null),y=$(null),I=()=>{a.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{f.value=!0,a.reset()}})},V=v=>{p.permissions=v.abilities,g.value=v},M=()=>{p.put(route("api-tokens.update",g.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>g.value=null})},z=v=>{y.value=v},N=()=>{u.delete(route("api-tokens.destroy",y.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>y.value=null})};return(v,e)=>(l(),i("div",null,[r(Y,{onSubmitted:I},{title:s(()=>[...e[9]||(e[9]=[d(" Create API Token ",-1)])]),description:s(()=>[...e[10]||(e[10]=[d(" API tokens allow third-party services to authenticate with our application on your behalf. ",-1)])]),form:s(()=>[t("div",pe,[r(S,{for:"name",value:"Name"}),r(J,{id:"name",modelValue:m(a).name,"onUpdate:modelValue":e[0]||(e[0]=n=>m(a).name=n),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),r(q,{message:m(a).errors.name,class:"mt-2"},null,8,["message"])]),o.availablePermissions.length>0?(l(),i("div",fe,[r(S,{for:"permissions",value:"Permissions"}),t("div",ge,[(l(!0),i(C,null,A(o.availablePermissions,n=>(l(),i("div",{key:n},[t("label",ye,[r(B,{checked:m(a).permissions,"onUpdate:checked":e[1]||(e[1]=x=>m(a).permissions=x),value:n},null,8,["checked","value"]),t("span",ke,_(n),1)])]))),128))])])):b("",!0)]),actions:s(()=>[r(E,{on:m(a).recentlySuccessful,class:"me-3"},{default:s(()=>[...e[11]||(e[11]=[d(" Created. ",-1)])]),_:1},8,["on"]),r(T,{class:w({"opacity-25":m(a).processing}),disabled:m(a).processing},{default:s(()=>[...e[12]||(e[12]=[d(" Create ",-1)])]),_:1},8,["class","disabled"])]),_:1}),o.tokens.length>0?(l(),i("div",ve,[r(ce),t("div",xe,[r(H,null,{title:s(()=>[...e[13]||(e[13]=[d(" Manage API Tokens ",-1)])]),description:s(()=>[...e[14]||(e[14]=[d(" You may delete any of your existing tokens if they are no longer needed. ",-1)])]),content:s(()=>[t("div",be,[(l(!0),i(C,null,A(o.tokens,n=>(l(),i("div",{key:n.id,class:"flex items-center justify-between"},[t("div",_e,_(n.name),1),t("div",he,[n.last_used_ago?(l(),i("div",$e," Last used "+_(n.last_used_ago),1)):b("",!0),o.availablePermissions.length>0?(l(),i("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:x=>V(n)}," Permissions ",8,we)):b("",!0),t("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:x=>z(n)}," Delete ",8,Ce)])]))),128))])]),_:1})])])):b("",!0),r(j,{show:f.value,onClose:e[3]||(e[3]=n=>f.value=!1)},{title:s(()=>[...e[15]||(e[15]=[d(" API Token ",-1)])]),content:s(()=>[e[16]||(e[16]=t("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),v.$page.props.jetstream.flash.token?(l(),i("div",Ae,_(v.$page.props.jetstream.flash.token),1)):b("",!0)]),footer:s(()=>[r(P,{onClick:e[2]||(e[2]=n=>f.value=!1)},{default:s(()=>[...e[17]||(e[17]=[d(" Close ",-1)])]),_:1})]),_:1},8,["show"]),r(j,{show:g.value!=null,onClose:e[6]||(e[6]=n=>g.value=null)},{title:s(()=>[...e[18]||(e[18]=[d(" API Token Permissions ",-1)])]),content:s(()=>[t("div",Pe,[(l(!0),i(C,null,A(o.availablePermissions,n=>(l(),i("div",{key:n},[t("label",Se,[r(B,{checked:m(p).permissions,"onUpdate:checked":e[4]||(e[4]=x=>m(p).permissions=x),value:n},null,8,["checked","value"]),t("span",Te,_(n),1)])]))),128))])]),footer:s(()=>[r(P,{onClick:e[5]||(e[5]=n=>g.value=null)},{default:s(()=>[...e[19]||(e[19]=[d(" Cancel ",-1)])]),_:1}),r(T,{class:w(["ms-3",{"opacity-25":m(p).processing}]),disabled:m(p).processing,onClick:M},{default:s(()=>[...e[20]||(e[20]=[d(" Save ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["show"]),r(te,{show:y.value!=null,onClose:e[8]||(e[8]=n=>y.value=null)},{title:s(()=>[...e[21]||(e[21]=[d(" Delete API Token ",-1)])]),content:s(()=>[...e[22]||(e[22]=[d(" Are you sure you would like to delete this API token? ",-1)])]),footer:s(()=>[r(P,{onClick:e[7]||(e[7]=n=>y.value=null)},{default:s(()=>[...e[23]||(e[23]=[d(" Cancel ",-1)])]),_:1}),r(oe,{class:w(["ms-3",{"opacity-25":m(u).processing}]),disabled:m(u).processing,onClick:N},{default:s(()=>[...e[24]||(e[24]=[d(" Delete ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{We as default};
