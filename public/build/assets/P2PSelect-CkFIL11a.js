import{g as p,d as E,H as D,D as N,f as l,o as r,a as t,b as L,r as _,F as w,h as g,t as v,n as f,w as C,e as T,K as M,k as H,T as V,G as O,y as R}from"./app-DdK31xcW.js";/* empty css                                                                  */import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"relative"},A=["disabled"],G={class:"flex items-center min-w-0 flex-1"},I={key:0,class:"mr-2 text-gray-500 dark:text-slate-400 flex-shrink-0"},K={key:1,class:"mr-2 text-lg flex-shrink-0"},U={class:"px-3 py-2 border-b border-gray-200 dark:border-slate-700/50"},J={class:"text-xs font-medium text-gray-500 dark:text-slate-400"},Q={key:0,class:"border-b border-gray-200 dark:border-slate-700/50"},W={class:"max-h-60 overflow-auto py-1 custom-scrollbar"},X=["onClick","disabled"],Y={class:"flex items-center"},Z={key:0,class:"mr-2 text-gray-500 dark:text-slate-400"},ee={key:1,class:"mr-2 text-lg"},te={class:"truncate"},ae={key:0,class:"flex items-center"},se={__name:"P2PSelect",props:{modelValue:{type:[String,Number,null],default:null},options:{type:Array,required:!0},placeholder:{type:String,default:"请选择"},disabled:{type:Boolean,default:!1},size:{type:String,default:"md",validator:o=>["sm","md","lg"].includes(o)},defaultValue:{type:[String,Number,null],default:null}},emits:["update:modelValue"],setup(o,{emit:S}){const u=o,h=S,d=p(!1),b=p(null),k=p({});let i=null;const c=E(()=>u.options.find(e=>e.value===u.modelValue)),$=()=>{u.disabled||(d.value?n():(i&&i!==n&&i(),d.value=!0,i=n,R(()=>{m()})))},n=()=>{d.value=!1,i===n&&(i=null)},z=e=>{h("update:modelValue",e.value),n()},B=()=>{h("update:modelValue",u.defaultValue),n()},m=()=>{if(!b.value)return;const e=b.value.getBoundingClientRect(),a=window.innerHeight;e.bottom>a?k.value={bottom:"100%",top:"auto",marginBottom:"0.5rem",marginTop:"0"}:k.value={}},P=E(()=>{const e="relative w-full cursor-pointer rounded-lg border backdrop-blur text-left shadow-sm transition-all focus:border-emerald-500/50 focus:outline-none focus:ring-2 focus:ring-emerald-500/20",a={sm:"px-3 h-8 text-xs",md:"px-4 h-10 text-sm",lg:"px-4 h-12 text-base"},s=u.disabled?"cursor-not-allowed border-gray-300 dark:border-slate-800 bg-gray-100 dark:bg-slate-900/30 text-gray-400 dark:text-slate-600":d.value?"border-emerald-500/50 text-gray-900 dark:text-slate-100 bg-white dark:bg-slate-900/70":"border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-900/50 text-gray-700 dark:text-slate-200 hover:bg-gray-50 dark:hover:bg-slate-800/50 hover:border-gray-400 dark:hover:border-slate-600";return`${e} ${a[u.size]} ${s} flex items-center justify-between`}),j=e=>{const a="relative flex w-full select-none items-center justify-between px-3 py-2 text-sm transition-all";if(e.disabled)return`${a} cursor-not-allowed opacity-50 text-gray-400 dark:text-slate-500 bg-gray-50 dark:bg-slate-800/50`;const s=e.value===u.modelValue?"cursor-pointer bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 font-medium":"cursor-pointer text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700/50 hover:text-gray-900 dark:hover:text-slate-100";return`${a} ${s}`},x=e=>{const a=b.value?.closest(".relative");a&&!a.contains(e.target)&&n()},y=e=>{e.key==="Escape"&&d.value&&n()};return D(d,e=>{e?setTimeout(()=>{document.addEventListener("click",x),document.addEventListener("keydown",y),window.addEventListener("resize",m),window.addEventListener("scroll",m,!0)},0):(document.removeEventListener("click",x),document.removeEventListener("keydown",y),window.removeEventListener("resize",m),window.removeEventListener("scroll",m,!0))}),N(()=>{document.removeEventListener("click",x),document.removeEventListener("keydown",y),window.removeEventListener("resize",m),window.removeEventListener("scroll",m,!0),i===n&&(i=null)}),(e,a)=>(r(),l("div",q,[t("button",{type:"button",onClick:$,class:f(P.value),disabled:o.disabled},[t("span",G,[c.value&&e.$slots.selected?_(e.$slots,"selected",{key:0,option:c.value},void 0,!0):(r(),l(w,{key:1},[c.value?.icon?(r(),l("span",I,v(c.value.icon),1)):g("",!0),c.value?.flag?(r(),l("span",K,v(c.value.flag),1)):g("",!0),t("span",{class:f(["truncate block",c.value?"text-gray-900 dark:text-slate-100":"text-gray-500 dark:text-slate-400"])},v(c.value?.label||o.placeholder),3)],64))]),(r(),l("svg",{class:f(["ml-2 h-4 w-4 text-gray-500 dark:text-slate-500 transition-transform duration-200 flex-shrink-0",{"rotate-180":d.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...a[0]||(a[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],10,A),L(V,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100"},{default:C(()=>[T(t("div",{ref_key:"dropdownRef",ref:b,class:"absolute z-50 mt-2 w-full min-w-max rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-gray-200 dark:ring-slate-700/50 backdrop-blur-xl",style:M(k.value)},[t("div",U,[t("p",J,v(o.placeholder),1)]),o.modelValue&&o.modelValue!==o.defaultValue?(r(),l("div",Q,[t("button",{type:"button",onClick:B,class:"w-full flex items-center px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors cursor-pointer"},[...a[1]||(a[1]=[t("svg",{class:"w-4 h-4 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),t("span",null,"清除选择",-1)])])])):g("",!0),t("div",W,[(r(!0),l(w,null,H(o.options,s=>(r(),l("button",{key:s.value,type:"button",onClick:le=>!s.disabled&&z(s),class:f(j(s)),disabled:s.disabled},[t("span",Y,[e.$slots.option?_(e.$slots,"option",{key:0,option:s},void 0,!0):(r(),l(w,{key:1},[s.icon?(r(),l("span",Z,v(s.icon),1)):g("",!0),s.flag?(r(),l("span",ee,v(s.flag),1)):g("",!0),t("span",te,v(s.label),1)],64))]),L(V,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-0","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-0"},{default:C(()=>[s.value===o.modelValue?(r(),l("div",ae,[...a[2]||(a[2]=[t("div",{class:"h-1.5 w-1.5 rounded-full bg-emerald-500 mr-2"},null,-1),t("svg",{class:"h-4 w-4 text-emerald-500",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):g("",!0)]),_:2},1024)],10,X))),128))]),a[3]||(a[3]=t("div",{class:"px-3 py-2 bg-gray-50 dark:bg-slate-900/50 border-t border-gray-200 dark:border-slate-700/50 rounded-b-xl"},[t("div",{class:"flex items-center justify-center gap-1.5"},[t("img",{src:"/logo.png",alt:"Logo",class:"h-3.5 w-auto"}),t("span",{class:"text-xs font-medium text-gray-600 dark:text-slate-400"},"P2PCoinSwap")])],-1))],4),[[O,d.value]])]),_:3})]))}},de=F(se,[["__scopeId","data-v-5069ebf5"]]);export{de as P};
