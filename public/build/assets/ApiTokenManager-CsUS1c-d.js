import{d as z,e as F,v as U,f as u,o as l,r as h,g as q,h as W,i as H,a as o,b as i,w as a,j as O,n as S,k as v,l as x,m as Y,T as G,c as L,u as P,p,q as f,F as T,s as B,t as _}from"./app-CHuK08XC.js";import{_ as J}from"./ActionMessage-JLmnmOru.js";import{_ as K}from"./ActionSection-D7vhTiTG.js";import{_ as Q}from"./FormSection-DQhYsp3X.js";import{_ as R}from"./InputError-C9zzCFcB.js";import{_ as M}from"./InputLabel-DJJ45F2H.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z=["value"],D={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(s,{emit:d}){const t=d,m=s,r=z({get(){return m.checked},set(c){t("update:checked",c)}});return(c,g)=>F((l(),u("input",{"onUpdate:modelValue":g[0]||(g[0]=y=>r.value=y),type:"checkbox",value:s.value,class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800"},null,8,Z)),[[U,r.value]])}},ee={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},E={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:d}){const t=s,m=d,r=h(),c=h(t.show);q(()=>t.show,()=>{t.show?(document.body.style.overflow="hidden",c.value=!0,r.value?.showModal()):(document.body.style.overflow=null,setTimeout(()=>{r.value?.close(),c.value=!1},200))});const g=()=>{t.closeable&&m("close")},y=k=>{k.target===r.value&&t.closeable&&g()},$=k=>{k.key==="Escape"&&(k.preventDefault(),t.show&&g())};W(()=>document.addEventListener("keydown",$)),H(()=>{document.removeEventListener("keydown",$),document.body.style.overflow=null});const A=z(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[t.maxWidth]);return(k,C)=>(l(),u("dialog",{class:"z-50 m-0 min-h-full min-w-full overflow-y-auto bg-transparent backdrop:bg-black/50 dark:backdrop:bg-black/70",ref_key:"dialog",ref:r,onClick:y},[o("div",ee,[i(G,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:a(()=>[F(o("div",{class:S(["mb-6 bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-2xl transform transition-all sm:w-full sm:mx-auto pt-safe",A.value]),onClick:C[0]||(C[0]=O(()=>{},["stop"]))},[c.value?v(k.$slots,"default",{key:0}):x("",!0)],2),[[Y,s.show]])]),_:3})])],512))}},te={class:"bg-white dark:bg-slate-900 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},se={class:"sm:flex sm:items-start"},oe={class:"mt-3 text-center sm:mt-0 sm:ms-4 sm:text-start"},ae={class:"text-lg font-semibold text-gray-900 dark:text-slate-100"},re={class:"mt-4 text-sm text-gray-600 dark:text-slate-400"},ne={class:"flex flex-row justify-end px-6 py-4 bg-gray-50 dark:bg-slate-900/50 border-t border-gray-200 dark:border-slate-800 text-end"},le={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:d}){const t=d,m=()=>{t("close")};return(r,c)=>(l(),L(E,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:m},{default:a(()=>[o("div",te,[o("div",se,[c[0]||(c[0]=o("div",{class:"mx-auto shrink-0 flex items-center justify-center size-12 rounded-full bg-red-100 dark:bg-red-900/30 sm:mx-0 sm:size-10"},[o("svg",{class:"size-6 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])],-1)),o("div",oe,[o("h3",ae,[v(r.$slots,"title")]),o("div",re,[v(r.$slots,"content")])])])]),o("div",ne,[v(r.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},ie=["type"],de={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(s){return(d,t)=>(l(),u("button",{type:s.type,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},[v(d.$slots,"default")],8,ie))}},ue={class:"px-6 py-4"},ce={class:"text-lg font-semibold text-gray-900 dark:text-slate-100"},me={class:"mt-4 text-sm text-gray-600 dark:text-slate-400"},fe={class:"flex flex-row justify-end px-6 py-4 bg-gray-50 dark:bg-slate-900/50 border-t border-gray-200 dark:border-slate-800 text-end"},I={__name:"DialogModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:d}){const t=d,m=()=>{t("close")};return(r,c)=>(l(),L(E,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:m},{default:a(()=>[o("div",ue,[o("div",ce,[v(r.$slots,"title")]),o("div",me,[v(r.$slots,"content")])]),o("div",fe,[v(r.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},pe=["type"],j={__name:"PrimaryButton",props:{type:{type:String,default:"submit"}},setup(s){return(d,t)=>(l(),u("button",{type:s.type,class:"inline-flex items-center px-4 py-2 bg-gray-800 dark:bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-800 uppercase tracking-widest hover:bg-gray-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 transition ease-in-out duration-150"},[v(d.$slots,"default")],8,pe))}},ge=["type"],V={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(s){return(d,t)=>(l(),u("button",{type:s.type,class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-25 transition ease-in-out duration-150"},[v(d.$slots,"default")],8,ge))}},ye={},ve={class:"hidden sm:block"};function ke(s,d){return l(),u("div",ve,[...d[0]||(d[0]=[o("div",{class:"py-8"},[o("div",{class:"border-t border-gray-200 dark:border-gray-700"})],-1)])])}const be=X(ye,[["render",ke]]),xe=["value"],he={__name:"TextInput",props:{modelValue:String},emits:["update:modelValue"],setup(s,{expose:d}){const t=h(null);return W(()=>{t.value.hasAttribute("autofocus")&&t.value.focus()}),d({focus:()=>t.value.focus()}),(m,r)=>(l(),u("input",{ref_key:"input",ref:t,class:"text-base md:text-sm border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:s.modelValue,onInput:r[0]||(r[0]=c=>m.$emit("update:modelValue",c.target.value))},null,40,xe))}},we={class:"col-span-6 sm:col-span-4"},_e={key:0,class:"col-span-6"},$e={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={class:"flex items-center"},Se={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},Ae={key:0},Pe={class:"mt-10 sm:mt-0"},Te={class:"space-y-6"},Be={class:"break-all dark:text-white"},Ve={class:"flex items-center ms-2"},Me={key:0,class:"text-sm text-gray-400"},De=["onClick"],Ie=["onClick"],je={key:0,class:"mt-4 bg-gray-100 dark:bg-gray-900 px-4 py-2 rounded font-mono text-sm text-gray-500 break-all"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fe={class:"flex items-center"},We={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},Ye={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(s){const t=P({name:"",permissions:s.defaultPermissions}),m=P({permissions:[]}),r=P({}),c=h(!1),g=h(null),y=h(null),$=()=>{t.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{c.value=!0,t.reset()}})},A=b=>{m.permissions=b.abilities,g.value=b},k=()=>{m.put(route("api-tokens.update",g.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>g.value=null})},C=b=>{y.value=b},N=()=>{r.delete(route("api-tokens.destroy",y.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>y.value=null})};return(b,e)=>(l(),u("div",null,[i(Q,{onSubmitted:$},{title:a(()=>[...e[9]||(e[9]=[f(" Create API Token ",-1)])]),description:a(()=>[...e[10]||(e[10]=[f(" API tokens allow third-party services to authenticate with our application on your behalf. ",-1)])]),form:a(()=>[o("div",we,[i(M,{for:"name",value:"Name"}),i(he,{id:"name",modelValue:p(t).name,"onUpdate:modelValue":e[0]||(e[0]=n=>p(t).name=n),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),i(R,{message:p(t).errors.name,class:"mt-2"},null,8,["message"])]),s.availablePermissions.length>0?(l(),u("div",_e,[i(M,{for:"permissions",value:"Permissions"}),o("div",$e,[(l(!0),u(T,null,B(s.availablePermissions,n=>(l(),u("div",{key:n},[o("label",Ce,[i(D,{checked:p(t).permissions,"onUpdate:checked":e[1]||(e[1]=w=>p(t).permissions=w),value:n},null,8,["checked","value"]),o("span",Se,_(n),1)])]))),128))])])):x("",!0)]),actions:a(()=>[i(J,{on:p(t).recentlySuccessful,class:"me-3"},{default:a(()=>[...e[11]||(e[11]=[f(" Created. ",-1)])]),_:1},8,["on"]),i(j,{class:S({"opacity-25":p(t).processing}),disabled:p(t).processing},{default:a(()=>[...e[12]||(e[12]=[f(" Create ",-1)])]),_:1},8,["class","disabled"])]),_:1}),s.tokens.length>0?(l(),u("div",Ae,[i(be),o("div",Pe,[i(K,null,{title:a(()=>[...e[13]||(e[13]=[f(" Manage API Tokens ",-1)])]),description:a(()=>[...e[14]||(e[14]=[f(" You may delete any of your existing tokens if they are no longer needed. ",-1)])]),content:a(()=>[o("div",Te,[(l(!0),u(T,null,B(s.tokens,n=>(l(),u("div",{key:n.id,class:"flex items-center justify-between"},[o("div",Be,_(n.name),1),o("div",Ve,[n.last_used_ago?(l(),u("div",Me," Last used "+_(n.last_used_ago),1)):x("",!0),s.availablePermissions.length>0?(l(),u("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:w=>A(n)}," Permissions ",8,De)):x("",!0),o("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:w=>C(n)}," Delete ",8,Ie)])]))),128))])]),_:1})])])):x("",!0),i(I,{show:c.value,onClose:e[3]||(e[3]=n=>c.value=!1)},{title:a(()=>[...e[15]||(e[15]=[f(" API Token ",-1)])]),content:a(()=>[e[16]||(e[16]=o("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),b.$page.props.jetstream.flash.token?(l(),u("div",je,_(b.$page.props.jetstream.flash.token),1)):x("",!0)]),footer:a(()=>[i(V,{onClick:e[2]||(e[2]=n=>c.value=!1)},{default:a(()=>[...e[17]||(e[17]=[f(" Close ",-1)])]),_:1})]),_:1},8,["show"]),i(I,{show:g.value!=null,onClose:e[6]||(e[6]=n=>g.value=null)},{title:a(()=>[...e[18]||(e[18]=[f(" API Token Permissions ",-1)])]),content:a(()=>[o("div",ze,[(l(!0),u(T,null,B(s.availablePermissions,n=>(l(),u("div",{key:n},[o("label",Fe,[i(D,{checked:p(m).permissions,"onUpdate:checked":e[4]||(e[4]=w=>p(m).permissions=w),value:n},null,8,["checked","value"]),o("span",We,_(n),1)])]))),128))])]),footer:a(()=>[i(V,{onClick:e[5]||(e[5]=n=>g.value=null)},{default:a(()=>[...e[19]||(e[19]=[f(" Cancel ",-1)])]),_:1}),i(j,{class:S(["ms-3",{"opacity-25":p(m).processing}]),disabled:p(m).processing,onClick:k},{default:a(()=>[...e[20]||(e[20]=[f(" Save ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["show"]),i(le,{show:y.value!=null,onClose:e[8]||(e[8]=n=>y.value=null)},{title:a(()=>[...e[21]||(e[21]=[f(" Delete API Token ",-1)])]),content:a(()=>[...e[22]||(e[22]=[f(" Are you sure you would like to delete this API token? ",-1)])]),footer:a(()=>[i(V,{onClick:e[7]||(e[7]=n=>y.value=null)},{default:a(()=>[...e[23]||(e[23]=[f(" Cancel ",-1)])]),_:1}),i(de,{class:S(["ms-3",{"opacity-25":p(r).processing}]),disabled:p(r).processing,onClick:N},{default:a(()=>[...e[24]||(e[24]=[f(" Delete ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Ye as default};
